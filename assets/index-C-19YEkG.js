(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const _n=!1,vn=(t,e)=>t===e,W=Symbol("solid-proxy"),wn=typeof Proxy=="function",Ge=Symbol("solid-track"),ke={equals:vn};let Nt=Vt;const Q=1,Oe=2,Bt={owned:null,cleanups:null,context:null,owner:null};var S=null;let We=null,Sn=null,C=null,N=null,z=null,Ie=0;function fe(t,e){const n=C,s=S,r=t.length===0,i=e===void 0?s:e,a=r?Bt:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=r?t:()=>t(()=>j(()=>de(a)));S=a,C=null;try{return G(o,!0)}finally{C=n,S=s}}function P(t,e){e=e?Object.assign({},ke,e):ke;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),jt(n,r));return[Mt.bind(n),s]}function D(t,e,n){const s=dt(t,e,!1,Q);me(s)}function ut(t,e,n){Nt=Cn;const s=dt(t,e,!1,Q);s.user=!0,z?z.push(s):me(s)}function L(t,e,n){n=n?Object.assign({},ke,n):ke;const s=dt(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,me(s),Mt.bind(s)}function It(t){return G(t,!1)}function j(t){if(C===null)return t();const e=C;C=null;try{return t()}finally{C=e}}function ft(t,e,n){const s=Array.isArray(t);let r,i=n&&n.defer;return a=>{let o;if(s){o=Array(t.length);for(let u=0;u<t.length;u++)o[u]=t[u]()}else o=t();if(i)return i=!1,a;const l=j(()=>e(o,r,a));return r=o,l}}function En(t){ut(()=>j(t))}function qe(t){return S===null||(S.cleanups===null?S.cleanups=[t]:S.cleanups.push(t)),t}function Ze(){return C}function qt(){return S}function Dt(t,e){const n=S,s=C;S=t,C=null;try{return G(e,!0)}catch(r){pt(r)}finally{S=n,C=s}}function $n(t){const e=C,n=S;return Promise.resolve().then(()=>{C=e,S=n;let s;return G(t,!1),C=S=null,s?s.done:void 0})}const[ni,si]=P(!1);function Ut(t,e){const n=Symbol("context");return{id:n,Provider:On(n),defaultValue:t}}function Ft(t){let e;return S&&S.context&&(e=S.context[t.id])!==void 0?e:t.defaultValue}function ht(t){const e=L(t),n=L(()=>et(e()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Mt(){if(this.sources&&this.state)if(this.state===Q)me(this);else{const t=N;N=null,G(()=>Re(this),!1),N=t}if(C){const t=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(t)):(C.sources=[this],C.sourceSlots=[t]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function jt(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&G(()=>{for(let r=0;r<t.observers.length;r+=1){const i=t.observers[r],a=We&&We.running;a&&We.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?N.push(i):z.push(i),i.observers&&Kt(i)),a||(i.state=Q)}if(N.length>1e6)throw N=[],new Error},!1)),e}function me(t){if(!t.fn)return;de(t);const e=Ie;An(t,t.value,e)}function An(t,e,n){let s;const r=S,i=C;C=S=t;try{s=t.fn(e)}catch(a){return t.pure&&(t.state=Q,t.owned&&t.owned.forEach(de),t.owned=null),t.updatedAt=n+1,pt(a)}finally{C=i,S=r}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?jt(t,s):t.value=s,t.updatedAt=n)}function dt(t,e,n,s=Q,r){const i={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:S,context:S?S.context:null,pure:n};return S===null||S!==Bt&&(S.owned?S.owned.push(i):S.owned=[i]),i}function Te(t){if(t.state===0)return;if(t.state===Oe)return Re(t);if(t.suspense&&j(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ie);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Q)me(t);else if(t.state===Oe){const s=N;N=null,G(()=>Re(t,e[0]),!1),N=s}}function G(t,e){if(N)return t();let n=!1;e||(N=[]),z?n=!0:z=[],Ie++;try{const s=t();return xn(n),s}catch(s){n||(z=null),N=null,pt(s)}}function xn(t){if(N&&(Vt(N),N=null),t)return;const e=z;z=null,e.length&&G(()=>Nt(e),!1)}function Vt(t){for(let e=0;e<t.length;e++)Te(t[e])}function Cn(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:Te(s)}for(e=0;e<n;e++)Te(t[e])}function Re(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const r=s.state;r===Q?s!==e&&(!s.updatedAt||s.updatedAt<Ie)&&Te(s):r===Oe&&Re(s,e)}}}function Kt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Oe,n.pure?N.push(n):z.push(n),n.observers&&Kt(n))}}function de(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),a=n.observerSlots.pop();s<r.length&&(i.sourceSlots[a]=s,r[s]=i,n.observerSlots[s]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)de(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)de(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function kn(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function pt(t,e=S){throw kn(t)}function et(t){if(typeof t=="function"&&!t.length)return et(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const s=et(t[n]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function On(t,e){return function(s){let r;return D(()=>r=j(()=>(S.context={...S.context,[t]:s.value},ht(()=>s.children))),void 0),r}}const Tn=Symbol("fallback");function $t(t){for(let e=0;e<t.length;e++)t[e]()}function Rn(t,e,n={}){let s=[],r=[],i=[],a=0,o=e.length>1?[]:null;return qe(()=>$t(i)),()=>{let l=t()||[],u=l.length,f,c;return l[Ge],j(()=>{let d,p,g,m,b,_,w,E,T;if(u===0)a!==0&&($t(i),i=[],s=[],r=[],a=0,o&&(o=[])),n.fallback&&(s=[Tn],r[0]=fe(k=>(i[0]=k,n.fallback())),a=1);else if(a===0){for(r=new Array(u),c=0;c<u;c++)s[c]=l[c],r[c]=fe(h);a=u}else{for(g=new Array(u),m=new Array(u),o&&(b=new Array(u)),_=0,w=Math.min(a,u);_<w&&s[_]===l[_];_++);for(w=a-1,E=u-1;w>=_&&E>=_&&s[w]===l[E];w--,E--)g[E]=r[w],m[E]=i[w],o&&(b[E]=o[w]);for(d=new Map,p=new Array(E+1),c=E;c>=_;c--)T=l[c],f=d.get(T),p[c]=f===void 0?-1:f,d.set(T,c);for(f=_;f<=w;f++)T=s[f],c=d.get(T),c!==void 0&&c!==-1?(g[c]=r[f],m[c]=i[f],o&&(b[c]=o[f]),c=p[c],d.set(T,c)):i[f]();for(c=_;c<u;c++)c in g?(r[c]=g[c],i[c]=m[c],o&&(o[c]=b[c],o[c](c))):r[c]=fe(h);r=r.slice(0,a=u),s=l.slice(0)}return r});function h(d){if(i[c]=d,o){const[p,g]=P(c);return o[c]=g,e(l[c],p)}return e(l[c])}}}function A(t,e){return j(()=>t(e||{}))}function ve(){return!0}const Pn={get(t,e,n){return e===W?n:t.get(e)},has(t,e){return e===W?!0:t.has(e)},set:ve,deleteProperty:ve,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:ve,deleteProperty:ve}},ownKeys(t){return t.keys()}};function He(t){return(t=typeof t=="function"?t():t)?t:{}}function Ln(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Nn(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&W in o,t[a]=typeof o=="function"?(e=!0,L(o)):o}if(wn&&e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const l=He(t[o])[a];if(l!==void 0)return l}},has(a){for(let o=t.length-1;o>=0;o--)if(a in He(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(He(t[o])));return[...new Set(a)]}},Pn);const n={},s=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let u=l.length-1;u>=0;u--){const f=l[u];if(f==="__proto__"||f==="constructor")continue;const c=Object.getOwnPropertyDescriptor(o,f);if(!s[f])s[f]=c.get?{enumerable:!0,configurable:!0,get:Ln.bind(n[f]=[c.get.bind(o)])}:c.value!==void 0?c:void 0;else{const h=n[f];h&&(c.get?h.push(c.get.bind(o)):c.value!==void 0&&h.push(()=>c.value))}}}const r={},i=Object.keys(s);for(let a=i.length-1;a>=0;a--){const o=i[a],l=s[o];l&&l.get?Object.defineProperty(r,o,l):r[o]=l?l.value:void 0}return r}const Bn=t=>`Stale read from <${t}>.`;function De(t){const e="fallback"in t&&{fallback:()=>t.fallback};return L(Rn(()=>t.each,t.children,e||void 0))}function ye(t){const e=t.keyed,n=L(()=>t.when,void 0,void 0),s=e?n:L(n,void 0,{equals:(r,i)=>!r==!i});return L(()=>{const r=s();if(r){const i=t.children;return typeof i=="function"&&i.length>0?j(()=>i(e?r:()=>{if(!j(s))throw Bn("Show");return n()})):i}return t.fallback},void 0,void 0)}const gt=t=>L(()=>t());function In(t,e,n){let s=n.length,r=e.length,i=s,a=0,o=0,l=e[r-1].nextSibling,u=null;for(;a<r||o<i;){if(e[a]===n[o]){a++,o++;continue}for(;e[r-1]===n[i-1];)r--,i--;if(r===a){const f=i<s?o?n[o-1].nextSibling:n[i-o]:l;for(;o<i;)t.insertBefore(n[o++],f)}else if(i===o)for(;a<r;)(!u||!u.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[i-1]&&n[o]===e[r-1]){const f=e[--r].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--i],f),e[r]=n[i]}else{if(!u){u=new Map;let c=o;for(;c<i;)u.set(n[c],c++)}const f=u.get(e[a]);if(f!=null)if(o<f&&f<i){let c=a,h=1,d;for(;++c<r&&c<i&&!((d=u.get(e[c]))==null||d!==f+h);)h++;if(h>f-o){const p=e[a];for(;o<f;)t.insertBefore(n[o++],p)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const At="_$DX_DELEGATE";function qn(t,e,n,s={}){let r;return fe(i=>{r=i,e===document?t():y(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{r(),e.textContent=""}}function x(t,e,n,s){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},a=()=>(r||(r=i())).cloneNode(!0);return a.cloneNode=a,a}function be(t,e=window.document){const n=e[At]||(e[At]=new Set);for(let s=0,r=t.length;s<r;s++){const i=t[s];n.has(i)||(n.add(i),e.addEventListener(i,Dn))}}function re(t,e){e==null?t.removeAttribute("class"):t.className=e}function y(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return Pe(t,e,s,n);D(r=>Pe(t,e(),r,n),s)}function Dn(t){let e=t.target;const n=`$$${t.type}`,s=t.target,r=t.currentTarget,i=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),a=()=>{const l=e[n];if(l&&!e.disabled){const u=e[`${n}Data`];if(u!==void 0?l.call(e,u,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const l=t.composedPath();i(l[0]);for(let u=0;u<l.length-2&&(e=l[u],!!a());u++){if(e._$host){e=e._$host,o();break}if(e.parentNode===r)break}}else o();i(s)}function Pe(t,e,n,s,r){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,a=s!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(a){let o=n[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),n=ne(t,n,s,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=ne(t,n,s);else{if(i==="function")return D(()=>{let o=e();for(;typeof o=="function";)o=o();n=Pe(t,o,n,s)}),()=>n;if(Array.isArray(e)){const o=[],l=n&&Array.isArray(n);if(tt(o,e,n,r))return D(()=>n=Pe(t,o,n,s,!0)),()=>n;if(o.length===0){if(n=ne(t,n,s),a)return n}else l?n.length===0?xt(t,o,s):In(t,n,o):(n&&ne(t),xt(t,o));n=o}else if(e.nodeType){if(Array.isArray(n)){if(a)return n=ne(t,n,s,e);ne(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function tt(t,e,n,s){let r=!1;for(let i=0,a=e.length;i<a;i++){let o=e[i],l=n&&n[t.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))r=tt(t,o,l)||r;else if(u==="function")if(s){for(;typeof o=="function";)o=o();r=tt(t,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||r}else t.push(o),r=!0;else{const f=String(o);l&&l.nodeType===3&&l.data===f?t.push(l):t.push(document.createTextNode(f))}}return r}function xt(t,e,n=null){for(let s=0,r=e.length;s<r;s++)t.insertBefore(e[s],n)}function ne(t,e,n,s){if(n===void 0)return t.textContent="";const r=s||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(r!==o){const l=o.parentNode===t;!i&&!a?l?t.replaceChild(r,o):t.insertBefore(r,n):l&&o.remove()}else i=!0}}else t.insertBefore(r,n);return[r]}const Un=!1;function Wt(){let t=new Set;function e(r){return t.add(r),()=>t.delete(r)}let n=!1;function s(r,i){if(n)return!(n=!1);const a={to:r,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of t)o.listener({...a,from:o.location,retry:l=>{l&&(n=!0),o.navigate(r,{...i,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:s}}let nt;function mt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),nt=window.history.state._depth}mt();function Fn(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Mn(t,e){let n=!1;return()=>{const s=nt;mt();const r=s==null?null:nt-s;if(n){n=!1;return}r&&e(r)?(n=!0,window.history.go(-r)):t()}}const jn=/^(?:[a-z0-9]+:)?\/\//i,Vn=/^\/+|(\/)\/+$/g,Ht="http://sr";function he(t,e=!1){const n=t.replace(Vn,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Ee(t,e,n){if(jn.test(e))return;const s=he(t),r=n&&he(n);let i="";return!r||e.startsWith("/")?i=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?i=s+r:i=r,(i||"/")+he(e,!i)}function Kn(t,e){if(t==null)throw new Error(e);return t}function Wn(t,e){return he(t).replace(/\/*(\*.*)?$/g,"")+he(e)}function Yt(t){const e={};return t.searchParams.forEach((n,s)=>{s in e?Array.isArray(e[s])?e[s].push(n):e[s]=[e[s],n]:e[s]=n}),e}function Hn(t,e,n){const[s,r]=t.split("/*",2),i=s.split("/").filter(Boolean),a=i.length;return o=>{const l=o.split("/").filter(Boolean),u=l.length-a;if(u<0||u>0&&r===void 0&&!e)return null;const f={path:a?"":"/",params:{}},c=h=>n===void 0?void 0:n[h];for(let h=0;h<a;h++){const d=i[h],p=d[0]===":",g=p?l[h]:l[h].toLowerCase(),m=p?d.slice(1):d.toLowerCase();if(p&&Ye(g,c(m)))f.params[m]=g;else if(p||!Ye(g,m))return null;f.path+=`/${g}`}if(r){const h=u?l.slice(-u).join("/"):"";if(Ye(h,c(r)))f.params[r]=h;else return null}return f}}function Ye(t,e){const n=s=>s===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Yn(t){const[e,n]=t.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((r,i)=>r+(i.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function Jt(t){const e=new Map,n=qt();return new Proxy({},{get(s,r){return e.has(r)||Dt(n,()=>e.set(r,L(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Jn(t,e){const n=new URLSearchParams(t);Object.entries(e).forEach(([r,i])=>{i==null||i===""||i instanceof Array&&!i.length?n.delete(r):i instanceof Array?(n.delete(r),i.forEach(a=>{n.append(r,String(a))})):n.set(r,String(i))});const s=n.toString();return s?`?${s}`:""}function zt(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),s=t.slice(e.index+e[0].length);const r=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=e[1]),s=s.slice(e[0].length);return zt(s).reduce((i,a)=>[...i,...r.map(o=>o+a)],[])}const zn=100,Xt=Ut(),Qt=Ut(),Gt=()=>Kn(Ft(Xt),"<A> and 'use' router primitives can be only used inside a Route."),yt=()=>Gt().navigatorFactory(),Xn=()=>Gt().location,Qn=()=>{const t=Xn(),e=yt(),n=(s,r)=>{const i=j(()=>Jn(t.search,s)+t.hash);e(i,{scroll:!1,resolve:!1,...r})};return[t.query,n]};function Gn(t,e=""){const{component:n,preload:s,load:r,children:i,info:a}=t,o=!i||Array.isArray(i)&&!i.length,l={key:t,component:n,preload:s||r,info:a};return Zt(t.path).reduce((u,f)=>{for(const c of zt(f)){const h=Wn(e,c);let d=o?h:h.split("/*",1)[0];d=d.split("/").map(p=>p.startsWith(":")||p.startsWith("*")?p:encodeURIComponent(p)).join("/"),u.push({...l,originalPath:f,pattern:d,matcher:Hn(d,!o,t.matchFilters)})}return u},[])}function Zn(t,e=0){return{routes:t,score:Yn(t[t.length-1])*1e4-e,matcher(n){const s=[];for(let r=t.length-1;r>=0;r--){const i=t[r],a=i.matcher(n);if(!a)return null;s.unshift({...a,route:i})}return s}}}function Zt(t){return Array.isArray(t)?t:[t]}function en(t,e="",n=[],s=[]){const r=Zt(t);for(let i=0,a=r.length;i<a;i++){const o=r[i];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const l=Gn(o,e);for(const u of l){n.push(u);const f=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!f)en(o.children,u.pattern,n,s);else{const c=Zn([...n],s.length);s.push(c)}n.pop()}}}return n.length?s:s.sort((i,a)=>a.score-i.score)}function Je(t,e){for(let n=0,s=t.length;n<s;n++){const r=t[n].matcher(e);if(r)return r}return[]}function es(t,e,n){const s=new URL(Ht),r=L(f=>{const c=t();try{return new URL(c,s)}catch{return console.error(`Invalid path ${c}`),f}},s,{equals:(f,c)=>f.href===c.href}),i=L(()=>r().pathname),a=L(()=>r().search,!0),o=L(()=>r().hash),l=()=>"",u=ft(a,()=>Yt(r()));return{get pathname(){return i()},get search(){return a()},get hash(){return o()},get state(){return e()},get key(){return l()},query:n?n(u):Jt(u)}}let Z;function ts(){return Z}function ns(t,e,n,s={}){const{signal:[r,i],utils:a={}}=t,o=a.parsePath||($=>$),l=a.renderPath||($=>$),u=a.beforeLeave||Wt(),f=Ee("",s.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!r().value&&i({value:f,replace:!0,scroll:!1});const[c,h]=P(!1);let d;const p=($,O)=>{O.value===g()&&O.state===b()||(d===void 0&&h(!0),Z=$,d=O,$n(()=>{d===O&&(m(d.value),_(d.state),T[1](q=>q.filter(ee=>ee.pending)))}).finally(()=>{d===O&&It(()=>{Z=void 0,$==="navigate"&&Me(d),h(!1),d=void 0})}))},[g,m]=P(r().value),[b,_]=P(r().state),w=es(g,b,a.queryWrapper),E=[],T=P([]),k=L(()=>typeof s.transformUrl=="function"?Je(e(),s.transformUrl(w.pathname)):Je(e(),w.pathname)),B=()=>{const $=k(),O={};for(let q=0;q<$.length;q++)Object.assign(O,$[q].params);return O},I=a.paramsWrapper?a.paramsWrapper(B,e):Jt(B),Y={pattern:f,path:()=>f,outlet:()=>null,resolvePath($){return Ee(f,$)}};return D(ft(r,$=>p("native",$),{defer:!0})),{base:Y,location:w,params:I,isRouting:c,renderPath:l,parsePath:o,navigatorFactory:oe,matches:k,beforeLeave:u,preloadRoute:je,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:T};function U($,O,q){j(()=>{if(typeof O=="number"){O&&(a.go?a.go(O):console.warn("Router integration does not support relative routing"));return}const ee=!O||O[0]==="?",{replace:Ve,resolve:te,scroll:Ke,state:ae}={replace:!1,resolve:!ee,scroll:!0,...q},_e=te?$.resolvePath(O):Ee(ee&&w.pathname||"",O);if(_e===void 0)throw new Error(`Path '${O}' is not a routable path`);if(E.length>=zn)throw new Error("Too many redirects");const Et=g();(_e!==Et||ae!==b())&&(Un||u.confirm(_e,q)&&(E.push({value:Et,replace:Ve,scroll:Ke,state:b()}),p("navigate",{value:_e,state:ae})))})}function oe($){return $=$||Ft(Qt)||Y,(O,q)=>U($,O,q)}function Me($){const O=E[0];O&&(i({...$,replace:O.replace,scroll:O.scroll}),E.length=0)}function je($,O){const q=Je(e(),$.pathname),ee=Z;Z="preload";for(let Ve in q){const{route:te,params:Ke}=q[Ve];te.component&&te.component.preload&&te.component.preload();const{preload:ae}=te;O&&ae&&Dt(n(),()=>ae({params:Ke,location:{pathname:$.pathname,search:$.search,hash:$.hash,query:Yt($),state:null,key:""},intent:"preload"}))}Z=ee}}function ss(t,e,n,s){const{base:r,location:i,params:a}=t,{pattern:o,component:l,preload:u}=s().route,f=L(()=>s().path);l&&l.preload&&l.preload();const c=u?u({params:a,location:i,intent:Z||"initial"}):void 0;return{parent:e,pattern:o,path:f,outlet:()=>l?A(l,{params:a,location:i,data:c,get children(){return n()}}):n(),resolvePath(d){return Ee(r.path(),d,f())}}}const rs=t=>e=>{const{base:n}=e,s=ht(()=>e.children),r=L(()=>en(s(),e.base||""));let i;const a=ns(t,r,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(a),A(Xt.Provider,{value:a,get children(){return A(is,{routerState:a,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[gt(()=>(i=qt())&&null),A(os,{routerState:a,get branches(){return r()}})]}})}})};function is(t){const e=t.routerState.location,n=t.routerState.params,s=L(()=>t.preload&&j(()=>{t.preload({params:n,location:e,intent:ts()||"initial"})}));return A(ye,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:r=>A(r,{params:n,location:e,get data(){return s()},get children(){return t.children}})})}function os(t){const e=[];let n;const s=L(ft(t.routerState.matches,(r,i,a)=>{let o=i&&r.length===i.length;const l=[];for(let u=0,f=r.length;u<f;u++){const c=i&&i[u],h=r[u];a&&c&&h.route.key===c.route.key?l[u]=a[u]:(o=!1,e[u]&&e[u](),fe(d=>{e[u]=d,l[u]=ss(t.routerState,l[u-1]||t.routerState.base,Ct(()=>s()[u+1]),()=>t.routerState.matches()[u])}))}return e.splice(r.length).forEach(u=>u()),a&&o?a:(n=l[0],l)}));return Ct(()=>s()&&n)()}const Ct=t=>()=>A(ye,{get when(){return t()},keyed:!0,children:e=>A(Qt.Provider,{value:e,get children(){return e.outlet()}})}),kt=t=>{const e=ht(()=>t.children);return Nn(t,{get children(){return e()}})};function as([t,e],n,s){return[t,s?r=>e(s(r)):e]}function ls(t){let e=!1;const n=r=>typeof r=="string"?{value:r}:r,s=as(P(n(t.get()),{equals:(r,i)=>r.value===i.value&&r.state===i.state}),void 0,r=>(!e&&t.set(r),r));return t.init&&qe(t.init((r=t.get())=>{e=!0,s[1](n(r)),e=!1})),rs({signal:s,create:t.create,utils:t.utils})}function cs(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function us(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const fs=new Map;function hs(t=!0,e=!1,n="/_server",s){return r=>{const i=r.base.path(),a=r.navigatorFactory(r.base);let o,l;function u(g){return g.namespaceURI==="http://www.w3.org/2000/svg"}function f(g){if(g.defaultPrevented||g.button!==0||g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)return;const m=g.composedPath().find(k=>k instanceof Node&&k.nodeName.toUpperCase()==="A");if(!m||e&&!m.hasAttribute("link"))return;const b=u(m),_=b?m.href.baseVal:m.href;if((b?m.target.baseVal:m.target)||!_&&!m.hasAttribute("state"))return;const E=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||E&&E.includes("external"))return;const T=b?new URL(_,document.baseURI):new URL(_);if(!(T.origin!==window.location.origin||i&&T.pathname&&!T.pathname.toLowerCase().startsWith(i.toLowerCase())))return[m,T]}function c(g){const m=f(g);if(!m)return;const[b,_]=m,w=r.parsePath(_.pathname+_.search+_.hash),E=b.getAttribute("state");g.preventDefault(),a(w,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:E?JSON.parse(E):void 0})}function h(g){const m=f(g);if(!m)return;const[b,_]=m;r.preloadRoute(_,b.getAttribute("preload")!=="false")}function d(g){clearTimeout(o);const m=f(g);if(!m)return l=null;const[b,_]=m;l!==b&&(o=setTimeout(()=>{r.preloadRoute(_,b.getAttribute("preload")!=="false"),l=b},20))}function p(g){if(g.defaultPrevented)return;let m=g.submitter&&g.submitter.hasAttribute("formaction")?g.submitter.getAttribute("formaction"):g.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const _=new URL(m,Ht);if(m=r.parsePath(_.pathname+_.search),!m.startsWith(n))return}if(g.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=fs.get(m);if(b){g.preventDefault();const _=new FormData(g.target,g.submitter);b.call({r,f:g.target},g.target.enctype==="multipart/form-data"?_:new URLSearchParams(_))}}be(["click","submit"]),document.addEventListener("click",c),t&&(document.addEventListener("mousemove",d,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",p),qe(()=>{document.removeEventListener("click",c),t&&(document.removeEventListener("mousemove",d),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",p)})}}function ds(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function ps(t){const e=()=>window.location.hash.slice(1),n=Wt();return ls({get:e,set({value:s,replace:r,scroll:i,state:a}){r?window.history.replaceState(Fn(a),"","#"+s):window.history.pushState(a,"","#"+s);const o=s.indexOf("#"),l=o>=0?s.slice(o+1):"";us(l,i),mt()},init:s=>cs(window,"hashchange",Mn(s,r=>!n.confirm(r&&r<0?r:e()))),create:hs(t.preload,t.explicitLinks,t.actionBase),utils:{go:s=>window.history.go(s),renderPath:s=>`#${s}`,parsePath:ds,beforeLeave:n}})(t)}const st=Symbol("store-raw"),se=Symbol("store-node"),J=Symbol("store-has"),tn=Symbol("store-self");function nn(t){let e=t[W];if(!e&&(Object.defineProperty(t,W,{value:e=new Proxy(t,ys)}),!Array.isArray(t))){const n=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let r=0,i=n.length;r<i;r++){const a=n[r];s[a].get&&Object.defineProperty(t,a,{enumerable:s[a].enumerable,get:s[a].get.bind(e)})}}return e}function Le(t){let e;return t!=null&&typeof t=="object"&&(t[W]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function pe(t,e=new Set){let n,s,r,i;if(n=t!=null&&t[st])return n;if(!Le(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)r=t[a],(s=pe(r,e))!==r&&(t[a]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let l=0,u=a.length;l<u;l++)i=a[l],!o[i].get&&(r=t[i],(s=pe(r,e))!==r&&(t[i]=s))}return t}function Ne(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function ge(t,e,n){if(t[e])return t[e];const[s,r]=P(n,{equals:!1,internal:!0});return s.$=r,t[e]=s}function gs(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===W||e===se||(delete n.value,delete n.writable,n.get=()=>t[W][e]),n}function sn(t){Ze()&&ge(Ne(t,se),tn)()}function ms(t){return sn(t),Reflect.ownKeys(t)}const ys={get(t,e,n){if(e===st)return t;if(e===W)return n;if(e===Ge)return sn(t),n;const s=Ne(t,se),r=s[e];let i=r?r():t[e];if(e===se||e===J||e==="__proto__")return i;if(!r){const a=Object.getOwnPropertyDescriptor(t,e);Ze()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=ge(s,e,i)())}return Le(i)?nn(i):i},has(t,e){return e===st||e===W||e===Ge||e===se||e===J||e==="__proto__"?!0:(Ze()&&ge(Ne(t,J),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ms,getOwnPropertyDescriptor:gs};function Be(t,e,n,s=!1){if(!s&&t[e]===n)return;const r=t[e],i=t.length;n===void 0?(delete t[e],t[J]&&t[J][e]&&r!==void 0&&t[J][e].$()):(t[e]=n,t[J]&&t[J][e]&&r===void 0&&t[J][e].$());let a=Ne(t,se),o;if((o=ge(a,e,r))&&o.$(()=>n),Array.isArray(t)&&t.length!==i){for(let l=t.length;l<i;l++)(o=a[l])&&o.$();(o=ge(a,"length",i))&&o.$(t.length)}(o=a[tn])&&o.$()}function rn(t,e){const n=Object.keys(e);for(let s=0;s<n.length;s+=1){const r=n[s];Be(t,r,e[r])}}function bs(t,e){if(typeof e=="function"&&(e=e(t)),e=pe(e),Array.isArray(e)){if(t===e)return;let n=0,s=e.length;for(;n<s;n++){const r=e[n];t[n]!==r&&Be(t,n,r)}Be(t,"length",s)}else rn(t,e)}function ce(t,e,n=[]){let s,r=t;if(e.length>1){s=e.shift();const a=typeof s,o=Array.isArray(t);if(Array.isArray(s)){for(let l=0;l<s.length;l++)ce(t,[s[l]].concat(e),n);return}else if(o&&a==="function"){for(let l=0;l<t.length;l++)s(t[l],l)&&ce(t,[l].concat(e),n);return}else if(o&&a==="object"){const{from:l=0,to:u=t.length-1,by:f=1}=s;for(let c=l;c<=u;c+=f)ce(t,[c].concat(e),n);return}else if(e.length>1){ce(t[s],e,[s].concat(n));return}r=t[s],n=[s].concat(n)}let i=e[0];typeof i=="function"&&(i=i(r,n),i===r)||s===void 0&&i==null||(i=pe(i),s===void 0||Le(r)&&Le(i)&&!Array.isArray(i)?rn(r,i):Be(t,s,i))}function _s(...[t,e]){const n=pe(t||{}),s=Array.isArray(n),r=nn(n);function i(...a){It(()=>{s&&a.length===1?bs(n,a[0]):ce(n,a)})}return[r,i]}var vs=x('<div class="kahoot-container justify-content-center m-auto row w-50"><div class="col-lg-8 text-center d-flex flex-column align-items-center"><h1 class="kahoot-title display-2 fw-bold mb-4"><span class=text-brand>Koderush</span>!</h1><form class="kahoot-form d-flex flex-column flex-md-col w-100 gap-3"role=search><input class="form-control form-input mb-3 mb-md-0 me-md-2"type=text placeholder=Nickname required><input class="form-control form-input mb-3 mb-md-0 me-md-2"type=text placeholder="Match ID"required><button class=btn-join type=submit>Join'),ws=x('<div class="row px-5"><main class="col-md-12 py-3">');function Ss(){const t=yt(),[e,n]=P(""),[s,r]=P(""),i=a=>{a.preventDefault(),t(`/match?name=${encodeURIComponent(e())}&code=${encodeURIComponent(s())}`)};return(()=>{var a=vs(),o=a.firstChild,l=o.firstChild,u=l.nextSibling,f=u.firstChild,c=f.nextSibling;return u.addEventListener("submit",i),f.$$input=h=>n(h.currentTarget.value),c.$$input=h=>r(h.currentTarget.value),D(()=>f.value=e()),D(()=>c.value=s()),a})()}function Es(){return(()=>{var t=ws(),e=t.firstChild;return y(e,A(Ss,{})),t})()}be(["input"]);const H=Object.create(null);H.open="0";H.close="1";H.ping="2";H.pong="3";H.message="4";H.upgrade="5";H.noop="6";const $e=Object.create(null);Object.keys(H).forEach(t=>{$e[H[t]]=t});const rt={type:"error",data:"parser error"},on=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",an=typeof ArrayBuffer=="function",ln=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,bt=({type:t,data:e},n,s)=>on&&e instanceof Blob?n?s(e):Ot(e,s):an&&(e instanceof ArrayBuffer||ln(e))?n?s(e):Ot(new Blob([e]),s):s(H[t]+(e||"")),Ot=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Tt(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ze;function $s(t,e){if(on&&t.data instanceof Blob)return t.data.arrayBuffer().then(Tt).then(e);if(an&&(t.data instanceof ArrayBuffer||ln(t.data)))return e(Tt(t.data));bt(t,!1,n=>{ze||(ze=new TextEncoder),e(ze.encode(n))})}const Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ue=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Rt.length;t++)ue[Rt.charCodeAt(t)]=t;const As=t=>{let e=t.length*.75,n=t.length,s,r=0,i,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),f=new Uint8Array(u);for(s=0;s<n;s+=4)i=ue[t.charCodeAt(s)],a=ue[t.charCodeAt(s+1)],o=ue[t.charCodeAt(s+2)],l=ue[t.charCodeAt(s+3)],f[r++]=i<<2|a>>4,f[r++]=(a&15)<<4|o>>2,f[r++]=(o&3)<<6|l&63;return u},xs=typeof ArrayBuffer=="function",_t=(t,e)=>{if(typeof t!="string")return{type:"message",data:cn(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Cs(t.substring(1),e)}:$e[n]?t.length>1?{type:$e[n],data:t.substring(1)}:{type:$e[n]}:rt},Cs=(t,e)=>{if(xs){const n=As(t);return cn(n,e)}else return{base64:!0,data:t}},cn=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},un="",ks=(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach((i,a)=>{bt(i,!1,o=>{s[a]=o,++r===n&&e(s.join(un))})})},Os=(t,e)=>{const n=t.split(un),s=[];for(let r=0;r<n.length;r++){const i=_t(n[r],e);if(s.push(i),i.type==="error")break}return s};function Ts(){return new TransformStream({transform(t,e){$s(t,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let Xe;function we(t){return t.reduce((e,n)=>e+n.length,0)}function Se(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)n[r]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function Rs(t,e){Xe||(Xe=new TextDecoder);const n=[];let s=0,r=-1,i=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(s===0){if(we(n)<1)break;const l=Se(n,1);i=(l[0]&128)===128,r=l[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(we(n)<2)break;const l=Se(n,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),s=3}else if(s===2){if(we(n)<8)break;const l=Se(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){o.enqueue(rt);break}r=f*Math.pow(2,32)+u.getUint32(4),s=3}else{if(we(n)<r)break;const l=Se(n,r);o.enqueue(_t(i?l:Xe.decode(l),e)),s=0}if(r===0||r>t){o.enqueue(rt);break}}}})}const fn=4;function R(t){if(t)return Ps(t)}function Ps(t){for(var e in R.prototype)t[e]=R.prototype[e];return t}R.prototype.on=R.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};R.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===e||s.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};R.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,e)}return this};R.prototype.emitReserved=R.prototype.emit;R.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};R.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ue=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),M=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ls="arraybuffer";function hn(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const Ns=M.setTimeout,Bs=M.clearTimeout;function Fe(t,e){e.useNativeTimers?(t.setTimeoutFn=Ns.bind(M),t.clearTimeoutFn=Bs.bind(M)):(t.setTimeoutFn=M.setTimeout.bind(M),t.clearTimeoutFn=M.clearTimeout.bind(M))}const Is=1.33;function qs(t){return typeof t=="string"?Ds(t):Math.ceil((t.byteLength||t.size)*Is)}function Ds(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function dn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Us(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Fs(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class Ms extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class vt extends R{constructor(e){super(),this.writable=!1,Fe(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new Ms(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=_t(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Us(e);return n.length?"?"+n:""}}class js extends vt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Os(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ks(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=dn()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let pn=!1;try{pn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Vs=pn;function Ks(){}class Ws extends js{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class K extends R{constructor(e,n,s){super(),this.createRequest=e,Fe(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=hn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=K.requestsCount++,K.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ks,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete K.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}K.requestsCount=0;K.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Pt);else if(typeof addEventListener=="function"){const t="onpagehide"in M?"pagehide":"unload";addEventListener(t,Pt,!1)}}function Pt(){for(let t in K.requests)K.requests.hasOwnProperty(t)&&K.requests[t].abort()}const Hs=function(){const t=gn({xdomain:!1});return t&&t.responseType!==null}();class Ys extends Ws{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Hs&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new K(gn,this.uri(),e)}}function gn(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Vs))return new XMLHttpRequest}catch{}if(!e)try{return new M[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const mn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Js extends vt{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=mn?{}:hn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;bt(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&Ue(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=dn()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Qe=M.WebSocket||M.MozWebSocket;class zs extends Js{createSocket(e,n,s){return mn?new Qe(e,n,s):n?new Qe(e,n):new Qe(e)}doWrite(e,n){this.ws.send(n)}}class Xs extends vt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Rs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),r=Ts();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:o,value:l})=>{o||(this.onPacket(l),i())}).catch(o=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;this._writer.write(s).then(()=>{r&&Ue(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Qs={websocket:zs,webtransport:Xs,polling:Ys},Gs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function it(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=Gs.exec(t||""),i={},a=14;for(;a--;)i[Zs[a]]=r[a]||"";return n!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=er(i,i.path),i.queryKey=tr(i,i.query),i}function er(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function tr(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}const ot=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ae=[];ot&&addEventListener("offline",()=>{Ae.forEach(t=>t())},!1);class X extends R{constructor(e,n){if(super(),this.binaryType=Ls,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=it(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=it(n.host).host);Fe(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fs(this.opts.query)),ot&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ae.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=fn,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&X.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",X.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=qs(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ue(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(X.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ot&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Ae.indexOf(this._offlineEventListener);s!==-1&&Ae.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}X.protocol=fn;class nr extends X{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;X.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",c=>{if(!s)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;X.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){s||(s=!0,f(),n.close(),n=null)}const a=c=>{const h=new Error("probe error: "+c);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function o(){a("transport closed")}function l(){a("socket closed")}function u(c){n&&c.name!==n.name&&i()}const f=()=>{n.removeListener("open",r),n.removeListener("error",a),n.removeListener("close",o),this.off("close",l),this.off("upgrading",u)};n.once("open",r),n.once("error",a),n.once("close",o),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let sr=class extends nr{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>Qs[r]).filter(r=>!!r)),super(e,s)}};function rr(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=it(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const ir=typeof ArrayBuffer=="function",or=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,yn=Object.prototype.toString,ar=typeof Blob=="function"||typeof Blob<"u"&&yn.call(Blob)==="[object BlobConstructor]",lr=typeof File=="function"||typeof File<"u"&&yn.call(File)==="[object FileConstructor]";function wt(t){return ir&&(t instanceof ArrayBuffer||or(t))||ar&&t instanceof Blob||lr&&t instanceof File}function xe(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(xe(t[n]))return!0;return!1}if(wt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return xe(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&xe(t[n]))return!0;return!1}function cr(t){const e=[],n=t.data,s=t;return s.data=at(n,e),s.attachments=e.length,{packet:s,buffers:e}}function at(t,e){if(!t)return t;if(wt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=at(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=at(t[s],e));return n}return t}function ur(t,e){return t.data=lt(t.data,e),delete t.attachments,t}function lt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=lt(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=lt(t[n],e));return t}const fr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hr=5;var v;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(v||(v={}));class dr{constructor(e){this.replacer=e}encode(e){return(e.type===v.EVENT||e.type===v.ACK)&&xe(e)?this.encodeAsBinary({type:e.type===v.EVENT?v.BINARY_EVENT:v.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===v.BINARY_EVENT||e.type===v.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=cr(e),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function Lt(t){return Object.prototype.toString.call(t)==="[object Object]"}class St extends R{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===v.BINARY_EVENT;s||n.type===v.BINARY_ACK?(n.type=s?v.EVENT:v.ACK,this.reconstructor=new pr(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(wt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(v[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===v.BINARY_EVENT||s.type===v.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(i,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(i,n)}else s.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}s.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(St.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case v.CONNECT:return Lt(n);case v.DISCONNECT:return n===void 0;case v.CONNECT_ERROR:return typeof n=="string"||Lt(n);case v.EVENT:case v.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&fr.indexOf(n[0])===-1);case v.ACK:case v.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pr{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=ur(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gr=Object.freeze(Object.defineProperty({__proto__:null,Decoder:St,Encoder:dr,get PacketType(){return v},protocol:hr},Symbol.toStringTag,{value:"Module"}));function V(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const mr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bn extends R{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[V(e,"open",this.onopen.bind(this)),V(e,"packet",this.onpacket.bind(this)),V(e,"error",this.onerror.bind(this)),V(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,r,i;if(mr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:v.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,c=n.pop();this._registerAckCallback(f,c),a.id=f}const o=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r),a=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((s,r)=>{const i=(a,o)=>a?r(a):s(o);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:v.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case v.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case v.EVENT:case v.BINARY_EVENT:this.onevent(e);break;case v.ACK:case v.BINARY_ACK:this.onack(e);break;case v.DISCONNECT:this.ondisconnect();break;case v.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:v.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:v.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function ie(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ie.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};ie.prototype.reset=function(){this.attempts=0};ie.prototype.setMin=function(t){this.ms=t};ie.prototype.setMax=function(t){this.max=t};ie.prototype.setJitter=function(t){this.jitter=t};class ct extends R{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Fe(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ie({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||gr;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new sr(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=V(n,"open",function(){s.onopen(),e&&e()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=V(n,"error",i);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(V(e,"ping",this.onping.bind(this)),V(e,"data",this.ondata.bind(this)),V(e,"error",this.onerror.bind(this)),V(e,"close",this.onclose.bind(this)),V(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ue(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new bn(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const le={};function Ce(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=rr(t,e.path||"/socket.io"),s=n.source,r=n.id,i=n.path,a=le[r]&&i in le[r].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return o?l=new ct(s,e):(le[r]||(le[r]=new ct(s,e)),l=le[r]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Ce,{Manager:ct,Socket:bn,io:Ce,connect:Ce});var yr=x('<div class="alert alert-secondary">No disponible'),br=x('<div class=mb-3><button class="btn-tutorial mb-2"></button><div><div class="card card-body"><pre class=mb-0>'),_r=x("<div><h4></h4><p><strong>Límite de tiempo:</strong> <!>s<br><strong>Límite de memoria:</strong> <!>MB</p><h5>Enunciado</h5><p></p><h5>Entrada</h5><p></p><h5>Salida</h5><p></p><h5>Ejemplos</h5><ul class=list-group>"),vr=x("<li class=list-group-item><strong>Entrada:</strong><pre></pre><strong>Salida:</strong><pre>"),wr=x("<strong>Explicación:"),Sr=x("<p>");function Er({problem:t}){const[e,n]=P(!1);return console.log(t()),t()?(()=>{var s=_r(),r=s.firstChild,i=r.nextSibling,a=i.firstChild,o=a.nextSibling,l=o.nextSibling,u=l.nextSibling,f=u.nextSibling,c=f.nextSibling,h=c.nextSibling,d=h.nextSibling;d.nextSibling;var p=i.nextSibling,g=p.nextSibling,m=g.nextSibling,b=m.nextSibling,_=b.nextSibling,w=_.nextSibling,E=w.nextSibling,T=E.nextSibling;return y(r,()=>t().title),y(i,()=>t().time_limit,l),y(i,()=>t().memory_limit,d),y(s,A(ye,{get when(){return t().tutorial},get children(){var k=br(),B=k.firstChild,I=B.nextSibling,Y=I.firstChild,U=Y.firstChild;return B.$$click=()=>n(!e()),y(B,()=>e()?"Ocultar tutorial":"Mostrar tutorial"),y(U,()=>t().tutorial),D(()=>re(I,`collapse ${e()?"show":""}`)),k}}),p),y(g,()=>t().statement),y(b,()=>t().input_description),y(w,()=>t().output_description),y(T,()=>t().examples.map((k,B)=>(()=>{var I=vr(),Y=I.firstChild,U=Y.nextSibling,oe=U.nextSibling,Me=oe.nextSibling;return y(U,()=>k.input),y(Me,()=>k.output),y(I,(()=>{var je=gt(()=>!!k.explanation);return()=>je()&&[wr(),(()=>{var $=Sr();return y($,()=>k.explanation),$})()]})(),null),I})())),s})():yr()}be(["click"]);var $r=x('<div><label for=languageSelect class=form-label>Lenguaje:</label><select id=languageSelect class="form-select mb-2"><option value=c++>C++</option><option value=python>Python</option><option value=javascript>JavaScript</option></select><label for=codeEditor class=form-label>Código:</label><textarea id=codeEditor class=form-control rows=10 placeholder="Escribe o pega tu código aquí..."></textarea><button class="btn-normal mt-2">Enviar');function Ar({submitCode:t,problemId:e}){const[n,s]=P(""),[r,i]=P("cpp"),a=()=>{n().trim()!==""&&t(e(),r(),n())};return(()=>{var o=$r(),l=o.firstChild,u=l.nextSibling,f=u.nextSibling,c=f.nextSibling,h=c.nextSibling;return u.$$input=d=>i(d.target.value),c.$$input=d=>s(d.target.value),h.$$click=a,D(()=>u.value=r()),D(()=>c.value=n()),o})()}be(["input","click"]);var xr=x('<div class=row><div class=col-2><div class="nav flex-column mynav-pills"></div></div><div class=col-10><div class=row><div class=col-md-6></div><div class=col-md-6>'),Cr=x("<button>");function kr({match:t,submitCode:e}){const n=Object.keys(t.problems),[s,r]=P(n[0]),i=o=>String.fromCharCode(65+o),a=()=>t.problems[s()];return(()=>{var o=xr(),l=o.firstChild,u=l.firstChild,f=l.nextSibling,c=f.firstChild,h=c.firstChild,d=h.nextSibling;return y(u,A(De,{each:n,children:(p,g)=>{const m=t.problems[p];return(()=>{var b=Cr();return b.$$click=_=>{r(p),console.log(p)},b.disabled=!m,y(b,()=>i(g())),D(()=>re(b,`mynav-link ${s()===p?"active":""}`)),b})()}})),y(h,A(Er,{problem:a})),y(d,A(Ar,{submitCode:e,problemId:s})),o})()}be(["click"]);var Or=x('<div class=table-responsive><table class="table custom-scoreboard text-center align-middle"><thead class=table-light><tr><th>#</th><th>Jugador</th><th>Resueltos</th></tr></thead><tbody>'),Tr=x("<th>"),Rr=x("<tr><td></td><td class=text-start></td><td>"),Pr=x("<td>"),Lr=x("<td> ");function Nr({match:t}){const e=Object.keys(t.problems),s=(()=>{const r=new Map;for(const i of t.players){r.set(i,{solved:0,lastAcceptedTime:0,problems:{}});for(const a of e)r.get(i).problems[a]={solved:!1,tried:!1,failedAttempts:0}}for(const i of t.players){const a=t.submissions.filter(o=>o.player===i&&o.veredict!=="waiting").sort((o,l)=>o.timestamp-l.timestamp);for(const o of e){const l=a.filter(c=>c.problem_id===o);l.length>0&&(r.get(i).problems[o].tried=!0);let u=0,f=!1;for(const c of l)c.veredict==="accepted"?f=!0:["internal error","compilation error"].includes(c.veredict)||u++;r.get(i).problems[o].solved=f,r.get(i).problems[o].failedAttempts=u,f&&r.get(i).solved++}}return Array.from(r).sort(([i,a],[o,l])=>l.solved!==a.solved?l.solved-a.solved:i.localeCompare(o))})();return console.log(s),(()=>{var r=Or(),i=r.firstChild,a=i.firstChild,o=a.firstChild,l=o.firstChild,u=l.nextSibling;u.nextSibling;var f=a.nextSibling;return y(o,()=>e.map((c,h)=>(()=>{var d=Tr();return y(d,()=>`${String.fromCharCode(65+h)}`),d})()),null),y(f,A(De,{each:s,children:([c,h],d)=>(()=>{var p=Rr(),g=p.firstChild,m=g.nextSibling,b=m.nextSibling;return y(g,()=>d()+1),y(m,c),y(b,()=>h.solved),y(p,()=>e.map(_=>{const{solved:w,tried:E,failedAttempts:T}=h.problems[_];return E?(()=>{var k=Lr(),B=k.firstChild;return re(k,w?"table-success":"table-danger"),y(k,w?"✓":"✗",B),y(k,T>0?`(${T})`:"",null),k})():Pr()}),null),p})()})),r})()}var Br=x('<div><div><div class><p class=font-bold> </p></div></div><div class> <p></p></div><div class="absolute bottom-0 left-0 right-0 h-1 bg-black bg-opacity-20"><div class="h-full bg-white bg-opacity-50 animate-toast-progress">');function Ir(t){const n={success:{bg:"bg-success",icon:"✅",title:"¡Éxito!",animation:"animate-bounce"},danger:{bg:"bg-danger",icon:"❌",title:"Respuesta Incorrecta",animation:"animate-shake"},warning:{bg:"bg-yellow-500",icon:"⚠️",title:"Advertencia",animation:""},info:{bg:"bg-blue-500",icon:"ℹ️",title:"Información",animation:""}}[t.type];return(()=>{var s=Br(),r=s.firstChild,i=r.firstChild,a=i.firstChild,o=a.firstChild,l=r.nextSibling,u=l.firstChild,f=u.nextSibling,c=l.nextSibling,h=c.firstChild;return y(a,()=>n.icon,o),y(a,()=>n.title,null),y(f,()=>t.message),h.style.setProperty("animation-duration","5s"),D(()=>re(s,`flex p-3 toast-notif text-white ${n.bg} ${n.animation}`)),s})()}var qr=x('<div><div class=table-responsive><table class="table custom-submissions align-middle"><thead class=table-light><tr><th>#</th><th>Problema</th><th>Hora</th><th>Veredicto</th></tr></thead><tbody>'),Dr=x("<tr><td></td><td></td><td></td><td><span>");function Ur({match:t}){const[e,n]=P(!1),[s,r]=P({message:"none",type:"info"}),[i,a]=P({id:-1,veredict:"none"});var o=!0;const l=()=>[...t.submissions].filter(h=>h.player===t.player).sort((h,d)=>d.timestamp-h.timestamp);ut(()=>{const h=l();if(h.length>0){const d=h[0],p=i();console.log(d.veredict),(d.timestamp!==p.id||d.veredict!==p.veredict)&&(console.log("diff: ",d.veredict," ",p.veredict),!o&&d.veredict!=="waiting"&&(f(d.veredict),a({id:d.timestamp,veredict:d.veredict})),o=!1)}});const u=h=>new Date(h*1e3).toLocaleTimeString(),f=h=>{const p={accepted:{message:"¡Solución aceptada! ¡Buen trabajo!",type:"success"},"wrong answer":{message:"No te rindas. ¡Sigue intentando!",type:"danger"}}[h]||{message:"Envío procesado",type:"info"};r(p),n(!0),setTimeout(()=>n(!1),5e3)},c=Object.keys(t.problems);return(()=>{var h=qr(),d=h.firstChild,p=d.firstChild,g=p.firstChild,m=g.nextSibling;return y(h,A(ye,{get when(){return e()},get children(){return A(Ir,{get message(){return s().message},get type(){return s().type},onClose:()=>n(!1)})}}),d),y(m,A(De,{get each(){return l()},children:(b,_)=>(()=>{var w=Dr(),E=w.firstChild,T=E.nextSibling,k=T.nextSibling,B=k.nextSibling,I=B.firstChild;return y(E,()=>_()+1),y(T,()=>String.fromCharCode(65+c.indexOf(b.problem_id))),y(k,()=>u(b.timestamp)),y(I,()=>b.veredict),D(()=>re(I,`badge text-bg-${Fr(b.veredict)}`)),w})()})),h})()}function Fr(t){switch(t){case"accepted":return"success";case"wrong answer":return"danger";case"compilation error":return"warning";case"runtime error":return"warning";case"time limit exceeded":return"warning";case"memory limit exceeded":return"warning";case"waiting":return"info";default:return"info"}}var Mr=x('<div class="game-container container my-4"><div class="row gy-4"><div class=col-12><div class="card h-100"><div class=card-body><h3 class=card-title>Problemas</h3></div></div></div><div class="col-12 col-md-6"><div class="card h-100"><div class=card-body><h3 class="card-title text-center">Tabla de posiciones</h3></div></div></div><div class="col-12 col-md-6"><div class="card h-100"><div class=card-body><h3 class="card-title text-center">Envíos');function jr({match:t,submitCode:e}){return(()=>{var n=Mr(),s=n.firstChild,r=s.firstChild,i=r.firstChild,a=i.firstChild;a.firstChild;var o=r.nextSibling,l=o.firstChild,u=l.firstChild;u.firstChild;var f=o.nextSibling,c=f.firstChild,h=c.firstChild;return h.firstChild,y(a,A(kr,{match:t,submitCode:e}),null),y(u,A(Nr,{match:t}),null),y(h,A(Ur,{match:t}),null),n})()}var Vr=x('<div class=kahoot-container><h4 class="kahoot-title mb-4">Participantes</h4><div class="d-flex flex-wrap justify-content-center gap-3"></div><p class="mt-4 text-warning fw-semibold">¡La partida comenzará en breve!'),Kr=x('<div class="waiting-page container py-5"><div class="row justify-content-center"><div class="col-lg-8 text-center"><h1 class="waiting-title display-4 fw-bold mb-4">¡Esperando a que comience la partida!</h1><div class=mb-4><div class="spinner-border text-light custom-spinner"role=status><span class=visually-hidden>Cargando...</span></div></div><div class=mt-4><p class="text-light medium">Invita a más jugadores compartiendo el código de la sala.<br>El juego comenzará automáticamente cuando el anfitrión lo inicie.'),Wr=x("<div class=text-light>Cargando jugadores..."),Hr=x('<div class="player-bubble player-color-4"><i class="bi bi-person-fill me-2">');function Yr({match:t}){return(()=>{var e=Kr(),n=e.firstChild,s=n.firstChild,r=s.firstChild,i=r.nextSibling,a=i.nextSibling;return y(s,A(ye,{when:t,get fallback(){return Wr()},get children(){var o=Vr(),l=o.firstChild,u=l.nextSibling;return y(u,()=>t?.players.map((f,c)=>(()=>{var h=Hr();return h.firstChild,y(h,f,null),h})())),o}}),a),e})()}var Jr=x('<div class="col-6 m-auto"><div class=card><div class=card-body><h3 class="card-title text-center">Posiciones Finales</h3><div class=table-responsive><table class="table custom-scoreboard text-center align-middle"><thead class=table-light><tr><th>#</th><th>Jugador</th><th>Resueltos</th></tr></thead><tbody></tbody></table></div><h4 class="m-auto p-2 text-center link-holder"><a class=survey-link href=https://forms.gle/3omLN4vGZc8Y4ajp7 target=_blank>Encuesta de satisfacción'),zr=x("<th>"),Xr=x("<tr><td></td><td class=text-start></td><td>"),Qr=x("<td>"),Gr=x("<td> ");function Zr({match:t}){const e=Object.keys(t.problems),s=(()=>{const r=new Map;for(const i of t.players){r.set(i,{solved:0,lastAcceptedTime:0,problems:{}});for(const a of e)r.get(i).problems[a]={solved:!1,tried:!1,failedAttempts:0}}for(const i of t.players){const a=t.submissions.filter(o=>o.player===i&&o.veredict!=="waiting").sort((o,l)=>o.timestamp-l.timestamp);for(const o of e){const l=a.filter(c=>c.problem_id===o);l.length>0&&(r.get(i).problems[o].tried=!0);let u=0,f=!1;for(const c of l)c.veredict==="accepted"?f=!0:["internal error","compilation error"].includes(c.veredict)||u++;r.get(i).problems[o].solved=f,r.get(i).problems[o].failedAttempts=u,f&&r.get(i).solved++}}return Array.from(r).sort(([i,a],[o,l])=>l.solved!==a.solved?l.solved-a.solved:i.localeCompare(o))})();return console.log(s),(()=>{var r=Jr(),i=r.firstChild,a=i.firstChild,o=a.firstChild,l=o.nextSibling,u=l.firstChild,f=u.firstChild,c=f.firstChild,h=c.firstChild,d=h.nextSibling;d.nextSibling;var p=f.nextSibling;return y(c,()=>e.map((g,m)=>(()=>{var b=zr();return y(b,()=>`${String.fromCharCode(65+m)}`),b})()),null),y(p,A(De,{each:s,children:([g,m],b)=>(()=>{var _=Xr(),w=_.firstChild,E=w.nextSibling,T=E.nextSibling;return y(w,()=>b()+1),y(E,g),y(T,()=>m.solved),y(_,()=>e.map(k=>{const{solved:B,tried:I,failedAttempts:Y}=m.problems[k];return I?(()=>{var U=Gr(),oe=U.firstChild;return re(U,B?"table-success":"table-danger"),y(U,B?"✓":"✗",oe),y(U,Y>0?`(${Y})`:"",null),U})():Qr()}),null),_})()})),r})()}let F;function ei(){const t=yt(),[e]=Qn(),n=e.name,s=e.code,[r,i]=P(Math.floor(Date.now()/1e3)),a=localStorage.getItem("matchEnded")==="true",[o,l]=P(a);let u=null;console.log(o());const[f,c]=_s({match_id:s,player:n,start_timestamp:null,players:[],submissions:[],problems:{},seconds_per_problem:null,seconds_per_tutorial:null});En(()=>{F=Ce("wss://ngkia3mb99.execute-api.us-east-1.amazonaws.com/production/"),console.log("Socket connected"),u=setInterval(()=>{console.log("time left",f.start_timestamp,r()),i(Math.floor(Date.now()/1e3))},1e3),F.emit("join_match",{match_id:f.match_id,player:f.player}),F.on("rejected",()=>{console.log("Rejected from match"),t("/")}),F.on("start_timestamp",p=>{c("start_timestamp",()=>p),console.log("Start timestamp",p)}),F.on("new_player",p=>{c("players",g=>[...g,p]),console.log("New player")}),F.on("state_update",p=>{c(()=>p),console.log("Update state")}),F.on("new_submission",p=>{p.player==f.player?c("submissions",p.index,()=>p):c("submissions",g=>[...g,p]),console.log("New submission")}),F.on("new_problem",p=>{c("problems",p.problem_id,()=>p),console.log("New problem")}),F.on("new_tutorial",p=>{c("problems",p.problem_id,"tutorial",()=>p.tutorial),console.log("New tutorial")}),F.on("match_ended",()=>{l(!0),localStorage.setItem("matchEnded","true"),console.log("Match ended")})}),ut(()=>{f.start_timestamp&&r()>=f.start_timestamp&&u&&(clearInterval(u),u=null,console.log("Clock interval stopped"))}),qe(()=>{u&&clearInterval(u),F.disconnect(),console.log("Socket disconnected")});const h=(p,g,m)=>{const b=f.submissions.length,_={player:f.player,problem_id:p,timestamp:Math.floor(Date.now()/1e3),veredict:"waiting",index:b};c("submissions",w=>[...w,_]),F.emit("upload_solution",{problem_id:p,language:g,solution:m,index:b})};return gt(()=>!f.start_timestamp||r()<f.start_timestamp?A(Yr,{match:f}):o()?A(Zr,{match:f}):A(jr,{match:f,submitCode:h}))}function ti(){return A(ps,{get children(){return[A(kt,{path:"/",component:Es}),A(kt,{path:"/match",component:ei})]}})}qn(()=>A(ti,{}),document.getElementById("root"));
