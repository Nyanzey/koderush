(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const _n=!1,wn=(t,e)=>t===e,K=Symbol("solid-proxy"),vn=typeof Proxy=="function",Qe=Symbol("solid-track"),$e={equals:wn};let Nt=Vt;const z=1,ke=2,Bt={owned:null,cleanups:null,context:null,owner:null};var v=null;let Ke=null,Sn=null,C=null,N=null,Y=null,Be=0;function le(t,e){const n=C,s=v,r=t.length===0,i=e===void 0?s:e,o=r?Bt:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=r?t:()=>t(()=>U(()=>he(o)));v=o,C=null;try{return X(a,!0)}finally{C=n,v=s}}function P(t,e){e=e?Object.assign({},$e,e):$e;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),jt(n,r));return[Mt.bind(n),s]}function q(t,e,n){const s=ft(t,e,!1,z);pe(s)}function lt(t,e,n){Nt=$n;const s=ft(t,e,!1,z);s.user=!0,Y?Y.push(s):pe(s)}function L(t,e,n){n=n?Object.assign({},$e,n):$e;const s=ft(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,pe(s),Mt.bind(s)}function qt(t){return X(t,!1)}function U(t){if(C===null)return t();const e=C;C=null;try{return t()}finally{C=e}}function ut(t,e,n){const s=Array.isArray(t);let r,i=n&&n.defer;return o=>{let a;if(s){a=Array(t.length);for(let u=0;u<t.length;u++)a[u]=t[u]()}else a=t();if(i)return i=!1,o;const c=U(()=>e(a,r,o));return r=a,c}}function En(t){lt(()=>U(t))}function qe(t){return v===null||(v.cleanups===null?v.cleanups=[t]:v.cleanups.push(t)),t}function Ge(){return C}function It(){return v}function Dt(t,e){const n=v,s=C;v=t,C=null;try{return X(e,!0)}catch(r){dt(r)}finally{v=n,C=s}}function An(t){const e=C,n=v;return Promise.resolve().then(()=>{C=e,v=n;let s;return X(t,!1),C=v=null,s?s.done:void 0})}const[zr,Xr]=P(!1);function Ut(t,e){const n=Symbol("context");return{id:n,Provider:On(n),defaultValue:t}}function Ft(t){let e;return v&&v.context&&(e=v.context[t.id])!==void 0?e:t.defaultValue}function ht(t){const e=L(t),n=L(()=>Ze(e()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function Mt(){if(this.sources&&this.state)if(this.state===z)pe(this);else{const t=N;N=null,X(()=>Te(this),!1),N=t}if(C){const t=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(t)):(C.sources=[this],C.sourceSlots=[t]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function jt(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&X(()=>{for(let r=0;r<t.observers.length;r+=1){const i=t.observers[r],o=Ke&&Ke.running;o&&Ke.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?N.push(i):Y.push(i),i.observers&&Kt(i)),o||(i.state=z)}if(N.length>1e6)throw N=[],new Error},!1)),e}function pe(t){if(!t.fn)return;he(t);const e=Be;Cn(t,t.value,e)}function Cn(t,e,n){let s;const r=v,i=C;C=v=t;try{s=t.fn(e)}catch(o){return t.pure&&(t.state=z,t.owned&&t.owned.forEach(he),t.owned=null),t.updatedAt=n+1,dt(o)}finally{C=i,v=r}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?jt(t,s):t.value=s,t.updatedAt=n)}function ft(t,e,n,s=z,r){const i={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:v,context:v?v.context:null,pure:n};return v===null||v!==Bt&&(v.owned?v.owned.push(i):v.owned=[i]),i}function Oe(t){if(t.state===0)return;if(t.state===ke)return Te(t);if(t.suspense&&U(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Be);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===z)pe(t);else if(t.state===ke){const s=N;N=null,X(()=>Te(t,e[0]),!1),N=s}}function X(t,e){if(N)return t();let n=!1;e||(N=[]),Y?n=!0:Y=[],Be++;try{const s=t();return xn(n),s}catch(s){n||(Y=null),N=null,dt(s)}}function xn(t){if(N&&(Vt(N),N=null),t)return;const e=Y;Y=null,e.length&&X(()=>Nt(e),!1)}function Vt(t){for(let e=0;e<t.length;e++)Oe(t[e])}function $n(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:Oe(s)}for(e=0;e<n;e++)Oe(t[e])}function Te(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const r=s.state;r===z?s!==e&&(!s.updatedAt||s.updatedAt<Be)&&Oe(s):r===ke&&Te(s,e)}}}function Kt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=ke,n.pure?N.push(n):Y.push(n),n.observers&&Kt(n))}}function he(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),o=n.observerSlots.pop();s<r.length&&(i.sourceSlots[o]=s,r[s]=i,n.observerSlots[s]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)he(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)he(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function kn(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function dt(t,e=v){throw kn(t)}function Ze(t){if(typeof t=="function"&&!t.length)return Ze(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const s=Ze(t[n]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function On(t,e){return function(s){let r;return q(()=>r=U(()=>(v.context={...v.context,[t]:s.value},ht(()=>s.children))),void 0),r}}const Tn=Symbol("fallback");function At(t){for(let e=0;e<t.length;e++)t[e]()}function Rn(t,e,n={}){let s=[],r=[],i=[],o=0,a=e.length>1?[]:null;return qe(()=>At(i)),()=>{let c=t()||[],u=c.length,h,l;return c[Qe],U(()=>{let d,m,p,g,b,_,E,A,T;if(u===0)o!==0&&(At(i),i=[],s=[],r=[],o=0,a&&(a=[])),n.fallback&&(s=[Tn],r[0]=le(k=>(i[0]=k,n.fallback())),o=1);else if(o===0){for(r=new Array(u),l=0;l<u;l++)s[l]=c[l],r[l]=le(f);o=u}else{for(p=new Array(u),g=new Array(u),a&&(b=new Array(u)),_=0,E=Math.min(o,u);_<E&&s[_]===c[_];_++);for(E=o-1,A=u-1;E>=_&&A>=_&&s[E]===c[A];E--,A--)p[A]=r[E],g[A]=i[E],a&&(b[A]=a[E]);for(d=new Map,m=new Array(A+1),l=A;l>=_;l--)T=c[l],h=d.get(T),m[l]=h===void 0?-1:h,d.set(T,l);for(h=_;h<=E;h++)T=s[h],l=d.get(T),l!==void 0&&l!==-1?(p[l]=r[h],g[l]=i[h],a&&(b[l]=a[h]),l=m[l],d.set(T,l)):i[h]();for(l=_;l<u;l++)l in p?(r[l]=p[l],i[l]=g[l],a&&(a[l]=b[l],a[l](l))):r[l]=le(f);r=r.slice(0,o=u),s=c.slice(0)}return r});function f(d){if(i[l]=d,a){const[m,p]=P(l);return a[l]=p,e(c[l],m)}return e(c[l])}}}function x(t,e){return U(()=>t(e||{}))}function _e(){return!0}const Pn={get(t,e,n){return e===K?n:t.get(e)},has(t,e){return e===K?!0:t.has(e)},set:_e,deleteProperty:_e,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:_e,deleteProperty:_e}},ownKeys(t){return t.keys()}};function We(t){return(t=typeof t=="function"?t():t)?t:{}}function Ln(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Nn(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&K in a,t[o]=typeof a=="function"?(e=!0,L(a)):a}if(vn&&e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const c=We(t[a])[o];if(c!==void 0)return c}},has(o){for(let a=t.length-1;a>=0;a--)if(o in We(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(We(t[a])));return[...new Set(o)]}},Pn);const n={},s=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let u=c.length-1;u>=0;u--){const h=c[u];if(h==="__proto__"||h==="constructor")continue;const l=Object.getOwnPropertyDescriptor(a,h);if(!s[h])s[h]=l.get?{enumerable:!0,configurable:!0,get:Ln.bind(n[h]=[l.get.bind(a)])}:l.value!==void 0?l:void 0;else{const f=n[h];f&&(l.get?f.push(l.get.bind(a)):l.value!==void 0&&f.push(()=>l.value))}}}const r={},i=Object.keys(s);for(let o=i.length-1;o>=0;o--){const a=i[o],c=s[a];c&&c.get?Object.defineProperty(r,a,c):r[a]=c?c.value:void 0}return r}const Bn=t=>`Stale read from <${t}>.`;function pt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return L(Rn(()=>t.each,t.children,e||void 0))}function ge(t){const e=t.keyed,n=L(()=>t.when,void 0,void 0),s=e?n:L(n,void 0,{equals:(r,i)=>!r==!i});return L(()=>{const r=s();if(r){const i=t.children;return typeof i=="function"&&i.length>0?U(()=>i(e?r:()=>{if(!U(s))throw Bn("Show");return n()})):i}return t.fallback},void 0,void 0)}const gt=t=>L(()=>t());function qn(t,e,n){let s=n.length,r=e.length,i=s,o=0,a=0,c=e[r-1].nextSibling,u=null;for(;o<r||a<i;){if(e[o]===n[a]){o++,a++;continue}for(;e[r-1]===n[i-1];)r--,i--;if(r===o){const h=i<s?a?n[a-1].nextSibling:n[i-a]:c;for(;a<i;)t.insertBefore(n[a++],h)}else if(i===a)for(;o<r;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[i-1]&&n[a]===e[r-1]){const h=e[--r].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--i],h),e[r]=n[i]}else{if(!u){u=new Map;let l=a;for(;l<i;)u.set(n[l],l++)}const h=u.get(e[o]);if(h!=null)if(a<h&&h<i){let l=o,f=1,d;for(;++l<r&&l<i&&!((d=u.get(e[l]))==null||d!==h+f);)f++;if(f>h-a){const m=e[o];for(;a<h;)t.insertBefore(n[a++],m)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const Ct="_$DX_DELEGATE";function In(t,e,n,s={}){let r;return le(i=>{r=i,e===document?t():y(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{r(),e.textContent=""}}function O(t,e,n,s){let r;const i=()=>{const a=document.createElement("template");return a.innerHTML=t,a.content.firstChild},o=()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function me(t,e=window.document){const n=e[Ct]||(e[Ct]=new Set);for(let s=0,r=t.length;s<r;s++){const i=t[s];n.has(i)||(n.add(i),e.addEventListener(i,Dn))}}function ye(t,e){e==null?t.removeAttribute("class"):t.className=e}function y(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return Re(t,e,s,n);q(r=>Re(t,e(),r,n),s)}function Dn(t){let e=t.target;const n=`$$${t.type}`,s=t.target,r=t.currentTarget,i=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),o=()=>{const c=e[n];if(c&&!e.disabled){const u=e[`${n}Data`];if(u!==void 0?c.call(e,u,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},a=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();i(c[0]);for(let u=0;u<c.length-2&&(e=c[u],!!o());u++){if(e._$host){e=e._$host,a();break}if(e.parentNode===r)break}}else a();i(s)}function Re(t,e,n,s,r){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,o=s!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=ne(t,n,s,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=ne(t,n,s);else{if(i==="function")return q(()=>{let a=e();for(;typeof a=="function";)a=a();n=Re(t,a,n,s)}),()=>n;if(Array.isArray(e)){const a=[],c=n&&Array.isArray(n);if(et(a,e,n,r))return q(()=>n=Re(t,a,n,s,!0)),()=>n;if(a.length===0){if(n=ne(t,n,s),o)return n}else c?n.length===0?xt(t,a,s):qn(t,n,a):(n&&ne(t),xt(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=ne(t,n,s,e);ne(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function et(t,e,n,s){let r=!1;for(let i=0,o=e.length;i<o;i++){let a=e[i],c=n&&n[t.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))r=et(t,a,c)||r;else if(u==="function")if(s){for(;typeof a=="function";)a=a();r=et(t,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||r}else t.push(a),r=!0;else{const h=String(a);c&&c.nodeType===3&&c.data===h?t.push(c):t.push(document.createTextNode(h))}}return r}function xt(t,e,n=null){for(let s=0,r=e.length;s<r;s++)t.insertBefore(e[s],n)}function ne(t,e,n,s){if(n===void 0)return t.textContent="";const r=s||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(r!==a){const c=a.parentNode===t;!i&&!o?c?t.replaceChild(r,a):t.insertBefore(r,n):c&&a.remove()}else i=!0}}else t.insertBefore(r,n);return[r]}const Un=!1;function Wt(){let t=new Set;function e(r){return t.add(r),()=>t.delete(r)}let n=!1;function s(r,i){if(n)return!(n=!1);const o={to:r,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of t)a.listener({...o,from:a.location,retry:c=>{c&&(n=!0),a.navigate(r,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:e,confirm:s}}let tt;function mt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),tt=window.history.state._depth}mt();function Fn(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function Mn(t,e){let n=!1;return()=>{const s=tt;mt();const r=s==null?null:tt-s;if(n){n=!1;return}r&&e(r)?(n=!0,window.history.go(-r)):t()}}const jn=/^(?:[a-z0-9]+:)?\/\//i,Vn=/^\/+|(\/)\/+$/g,Ht="http://sr";function ue(t,e=!1){const n=t.replace(Vn,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Se(t,e,n){if(jn.test(e))return;const s=ue(t),r=n&&ue(n);let i="";return!r||e.startsWith("/")?i=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?i=s+r:i=r,(i||"/")+ue(e,!i)}function Kn(t,e){if(t==null)throw new Error(e);return t}function Wn(t,e){return ue(t).replace(/\/*(\*.*)?$/g,"")+ue(e)}function Yt(t){const e={};return t.searchParams.forEach((n,s)=>{s in e?Array.isArray(e[s])?e[s].push(n):e[s]=[e[s],n]:e[s]=n}),e}function Hn(t,e,n){const[s,r]=t.split("/*",2),i=s.split("/").filter(Boolean),o=i.length;return a=>{const c=a.split("/").filter(Boolean),u=c.length-o;if(u<0||u>0&&r===void 0&&!e)return null;const h={path:o?"":"/",params:{}},l=f=>n===void 0?void 0:n[f];for(let f=0;f<o;f++){const d=i[f],m=d[0]===":",p=m?c[f]:c[f].toLowerCase(),g=m?d.slice(1):d.toLowerCase();if(m&&He(p,l(g)))h.params[g]=p;else if(m||!He(p,g))return null;h.path+=`/${p}`}if(r){const f=u?c.slice(-u).join("/"):"";if(He(f,l(r)))h.params[r]=f;else return null}return h}}function He(t,e){const n=s=>s===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Yn(t){const[e,n]=t.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((r,i)=>r+(i.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function Jt(t){const e=new Map,n=It();return new Proxy({},{get(s,r){return e.has(r)||Dt(n,()=>e.set(r,L(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Jn(t,e){const n=new URLSearchParams(t);Object.entries(e).forEach(([r,i])=>{i==null||i===""||i instanceof Array&&!i.length?n.delete(r):i instanceof Array?(n.delete(r),i.forEach(o=>{n.append(r,String(o))})):n.set(r,String(i))});const s=n.toString();return s?`?${s}`:""}function zt(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),s=t.slice(e.index+e[0].length);const r=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=e[1]),s=s.slice(e[0].length);return zt(s).reduce((i,o)=>[...i,...r.map(a=>a+o)],[])}const zn=100,Xt=Ut(),Qt=Ut(),Gt=()=>Kn(Ft(Xt),"<A> and 'use' router primitives can be only used inside a Route."),yt=()=>Gt().navigatorFactory(),Xn=()=>Gt().location,Qn=()=>{const t=Xn(),e=yt(),n=(s,r)=>{const i=U(()=>Jn(t.search,s)+t.hash);e(i,{scroll:!1,resolve:!1,...r})};return[t.query,n]};function Gn(t,e=""){const{component:n,preload:s,load:r,children:i,info:o}=t,a=!i||Array.isArray(i)&&!i.length,c={key:t,component:n,preload:s||r,info:o};return Zt(t.path).reduce((u,h)=>{for(const l of zt(h)){const f=Wn(e,l);let d=a?f:f.split("/*",1)[0];d=d.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),u.push({...c,originalPath:h,pattern:d,matcher:Hn(d,!a,t.matchFilters)})}return u},[])}function Zn(t,e=0){return{routes:t,score:Yn(t[t.length-1])*1e4-e,matcher(n){const s=[];for(let r=t.length-1;r>=0;r--){const i=t[r],o=i.matcher(n);if(!o)return null;s.unshift({...o,route:i})}return s}}}function Zt(t){return Array.isArray(t)?t:[t]}function en(t,e="",n=[],s=[]){const r=Zt(t);for(let i=0,o=r.length;i<o;i++){const a=r[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const c=Gn(a,e);for(const u of c){n.push(u);const h=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!h)en(a.children,u.pattern,n,s);else{const l=Zn([...n],s.length);s.push(l)}n.pop()}}}return n.length?s:s.sort((i,o)=>o.score-i.score)}function Ye(t,e){for(let n=0,s=t.length;n<s;n++){const r=t[n].matcher(e);if(r)return r}return[]}function es(t,e,n){const s=new URL(Ht),r=L(h=>{const l=t();try{return new URL(l,s)}catch{return console.error(`Invalid path ${l}`),h}},s,{equals:(h,l)=>h.href===l.href}),i=L(()=>r().pathname),o=L(()=>r().search,!0),a=L(()=>r().hash),c=()=>"",u=ut(o,()=>Yt(r()));return{get pathname(){return i()},get search(){return o()},get hash(){return a()},get state(){return e()},get key(){return c()},query:n?n(u):Jt(u)}}let Q;function ts(){return Q}function ns(t,e,n,s={}){const{signal:[r,i],utils:o={}}=t,a=o.parsePath||(S=>S),c=o.renderPath||(S=>S),u=o.beforeLeave||Wt(),h=Se("",s.base||"");if(h===void 0)throw new Error(`${h} is not a valid base path`);h&&!r().value&&i({value:h,replace:!0,scroll:!1});const[l,f]=P(!1);let d;const m=(S,$)=>{$.value===p()&&$.state===b()||(d===void 0&&f(!0),Q=S,d=$,An(()=>{d===$&&(g(d.value),_(d.state),T[1](B=>B.filter(ee=>ee.pending)))}).finally(()=>{d===$&&qt(()=>{Q=void 0,S==="navigate"&&Fe(d),f(!1),d=void 0})}))},[p,g]=P(r().value),[b,_]=P(r().state),E=es(p,b,o.queryWrapper),A=[],T=P([]),k=L(()=>typeof s.transformUrl=="function"?Ye(e(),s.transformUrl(E.pathname)):Ye(e(),E.pathname)),F=()=>{const S=k(),$={};for(let B=0;B<S.length;B++)Object.assign($,S[B].params);return $},M=o.paramsWrapper?o.paramsWrapper(F,e):Jt(F),G={pattern:h,path:()=>h,outlet:()=>null,resolvePath(S){return Se(h,S)}};return q(ut(r,S=>m("native",S),{defer:!0})),{base:G,location:E,params:M,isRouting:l,renderPath:c,parsePath:a,navigatorFactory:Ue,matches:k,beforeLeave:u,preloadRoute:Me,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:T};function Z(S,$,B){U(()=>{if(typeof $=="number"){$&&(o.go?o.go($):console.warn("Router integration does not support relative routing"));return}const ee=!$||$[0]==="?",{replace:je,resolve:te,scroll:Ve,state:ie}={replace:!1,resolve:!ee,scroll:!0,...B},be=te?S.resolvePath($):Se(ee&&E.pathname||"",$);if(be===void 0)throw new Error(`Path '${$}' is not a routable path`);if(A.length>=zn)throw new Error("Too many redirects");const Et=p();(be!==Et||ie!==b())&&(Un||u.confirm(be,B)&&(A.push({value:Et,replace:je,scroll:Ve,state:b()}),m("navigate",{value:be,state:ie})))})}function Ue(S){return S=S||Ft(Qt)||G,($,B)=>Z(S,$,B)}function Fe(S){const $=A[0];$&&(i({...S,replace:$.replace,scroll:$.scroll}),A.length=0)}function Me(S,$){const B=Ye(e(),S.pathname),ee=Q;Q="preload";for(let je in B){const{route:te,params:Ve}=B[je];te.component&&te.component.preload&&te.component.preload();const{preload:ie}=te;$&&ie&&Dt(n(),()=>ie({params:Ve,location:{pathname:S.pathname,search:S.search,hash:S.hash,query:Yt(S),state:null,key:""},intent:"preload"}))}Q=ee}}function ss(t,e,n,s){const{base:r,location:i,params:o}=t,{pattern:a,component:c,preload:u}=s().route,h=L(()=>s().path);c&&c.preload&&c.preload();const l=u?u({params:o,location:i,intent:Q||"initial"}):void 0;return{parent:e,pattern:a,path:h,outlet:()=>c?x(c,{params:o,location:i,data:l,get children(){return n()}}):n(),resolvePath(d){return Se(r.path(),d,h())}}}const rs=t=>e=>{const{base:n}=e,s=ht(()=>e.children),r=L(()=>en(s(),e.base||""));let i;const o=ns(t,r,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(o),x(Xt.Provider,{value:o,get children(){return x(is,{routerState:o,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[gt(()=>(i=It())&&null),x(os,{routerState:o,get branches(){return r()}})]}})}})};function is(t){const e=t.routerState.location,n=t.routerState.params,s=L(()=>t.preload&&U(()=>{t.preload({params:n,location:e,intent:ts()||"initial"})}));return x(ge,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:r=>x(r,{params:n,location:e,get data(){return s()},get children(){return t.children}})})}function os(t){const e=[];let n;const s=L(ut(t.routerState.matches,(r,i,o)=>{let a=i&&r.length===i.length;const c=[];for(let u=0,h=r.length;u<h;u++){const l=i&&i[u],f=r[u];o&&l&&f.route.key===l.route.key?c[u]=o[u]:(a=!1,e[u]&&e[u](),le(d=>{e[u]=d,c[u]=ss(t.routerState,c[u-1]||t.routerState.base,$t(()=>s()[u+1]),()=>t.routerState.matches()[u])}))}return e.splice(r.length).forEach(u=>u()),o&&a?o:(n=c[0],c)}));return $t(()=>s()&&n)()}const $t=t=>()=>x(ge,{get when(){return t()},keyed:!0,children:e=>x(Qt.Provider,{value:e,get children(){return e.outlet()}})}),kt=t=>{const e=ht(()=>t.children);return Nn(t,{get children(){return e()}})};function as([t,e],n,s){return[t,s?r=>e(s(r)):e]}function cs(t){let e=!1;const n=r=>typeof r=="string"?{value:r}:r,s=as(P(n(t.get()),{equals:(r,i)=>r.value===i.value&&r.state===i.state}),void 0,r=>(!e&&t.set(r),r));return t.init&&qe(t.init((r=t.get())=>{e=!0,s[1](n(r)),e=!1})),rs({signal:s,create:t.create,utils:t.utils})}function ls(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function us(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const hs=new Map;function fs(t=!0,e=!1,n="/_server",s){return r=>{const i=r.base.path(),o=r.navigatorFactory(r.base);let a,c;function u(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function h(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const g=p.composedPath().find(k=>k instanceof Node&&k.nodeName.toUpperCase()==="A");if(!g||e&&!g.hasAttribute("link"))return;const b=u(g),_=b?g.href.baseVal:g.href;if((b?g.target.baseVal:g.target)||!_&&!g.hasAttribute("state"))return;const A=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||A&&A.includes("external"))return;const T=b?new URL(_,document.baseURI):new URL(_);if(!(T.origin!==window.location.origin||i&&T.pathname&&!T.pathname.toLowerCase().startsWith(i.toLowerCase())))return[g,T]}function l(p){const g=h(p);if(!g)return;const[b,_]=g,E=r.parsePath(_.pathname+_.search+_.hash),A=b.getAttribute("state");p.preventDefault(),o(E,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:A?JSON.parse(A):void 0})}function f(p){const g=h(p);if(!g)return;const[b,_]=g;s&&(_.pathname=s(_.pathname)),r.preloadRoute(_,b.getAttribute("preload")!=="false")}function d(p){clearTimeout(a);const g=h(p);if(!g)return c=null;const[b,_]=g;c!==b&&(s&&(_.pathname=s(_.pathname)),a=setTimeout(()=>{r.preloadRoute(_,b.getAttribute("preload")!=="false"),c=b},20))}function m(p){if(p.defaultPrevented)return;let g=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!g)return;if(!g.startsWith("https://action/")){const _=new URL(g,Ht);if(g=r.parsePath(_.pathname+_.search),!g.startsWith(n))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=hs.get(g);if(b){p.preventDefault();const _=new FormData(p.target,p.submitter);b.call({r,f:p.target},p.target.enctype==="multipart/form-data"?_:new URLSearchParams(_))}}me(["click","submit"]),document.addEventListener("click",l),t&&(document.addEventListener("mousemove",d,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",m),qe(()=>{document.removeEventListener("click",l),t&&(document.removeEventListener("mousemove",d),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",m)})}}function ds(t){const e=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:r}},n=Wt();return cs({get:e,set({value:s,replace:r,scroll:i,state:o}){r?window.history.replaceState(Fn(o),"",s):window.history.pushState(o,"",s),us(decodeURIComponent(window.location.hash.slice(1)),i),mt()},init:s=>ls(window,"popstate",Mn(s,r=>{if(r&&r<0)return!n.confirm(r);{const i=e();return!n.confirm(i.value,{state:i.state})}})),create:fs(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:n}})(t)}const nt=Symbol("store-raw"),se=Symbol("store-node"),H=Symbol("store-has"),tn=Symbol("store-self");function nn(t){let e=t[K];if(!e&&(Object.defineProperty(t,K,{value:e=new Proxy(t,ms)}),!Array.isArray(t))){const n=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let r=0,i=n.length;r<i;r++){const o=n[r];s[o].get&&Object.defineProperty(t,o,{enumerable:s[o].enumerable,get:s[o].get.bind(e)})}}return e}function Pe(t){let e;return t!=null&&typeof t=="object"&&(t[K]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function fe(t,e=new Set){let n,s,r,i;if(n=t!=null&&t[nt])return n;if(!Pe(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)r=t[o],(s=fe(r,e))!==r&&(t[o]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let c=0,u=o.length;c<u;c++)i=o[c],!a[i].get&&(r=t[i],(s=fe(r,e))!==r&&(t[i]=s))}return t}function Le(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function de(t,e,n){if(t[e])return t[e];const[s,r]=P(n,{equals:!1,internal:!0});return s.$=r,t[e]=s}function ps(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===K||e===se||(delete n.value,delete n.writable,n.get=()=>t[K][e]),n}function sn(t){Ge()&&de(Le(t,se),tn)()}function gs(t){return sn(t),Reflect.ownKeys(t)}const ms={get(t,e,n){if(e===nt)return t;if(e===K)return n;if(e===Qe)return sn(t),n;const s=Le(t,se),r=s[e];let i=r?r():t[e];if(e===se||e===H||e==="__proto__")return i;if(!r){const o=Object.getOwnPropertyDescriptor(t,e);Ge()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(i=de(s,e,i)())}return Pe(i)?nn(i):i},has(t,e){return e===nt||e===K||e===Qe||e===se||e===H||e==="__proto__"?!0:(Ge()&&de(Le(t,H),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:gs,getOwnPropertyDescriptor:ps};function Ne(t,e,n,s=!1){if(!s&&t[e]===n)return;const r=t[e],i=t.length;n===void 0?(delete t[e],t[H]&&t[H][e]&&r!==void 0&&t[H][e].$()):(t[e]=n,t[H]&&t[H][e]&&r===void 0&&t[H][e].$());let o=Le(t,se),a;if((a=de(o,e,r))&&a.$(()=>n),Array.isArray(t)&&t.length!==i){for(let c=t.length;c<i;c++)(a=o[c])&&a.$();(a=de(o,"length",i))&&a.$(t.length)}(a=o[tn])&&a.$()}function rn(t,e){const n=Object.keys(e);for(let s=0;s<n.length;s+=1){const r=n[s];Ne(t,r,e[r])}}function ys(t,e){if(typeof e=="function"&&(e=e(t)),e=fe(e),Array.isArray(e)){if(t===e)return;let n=0,s=e.length;for(;n<s;n++){const r=e[n];t[n]!==r&&Ne(t,n,r)}Ne(t,"length",s)}else rn(t,e)}function ae(t,e,n=[]){let s,r=t;if(e.length>1){s=e.shift();const o=typeof s,a=Array.isArray(t);if(Array.isArray(s)){for(let c=0;c<s.length;c++)ae(t,[s[c]].concat(e),n);return}else if(a&&o==="function"){for(let c=0;c<t.length;c++)s(t[c],c)&&ae(t,[c].concat(e),n);return}else if(a&&o==="object"){const{from:c=0,to:u=t.length-1,by:h=1}=s;for(let l=c;l<=u;l+=h)ae(t,[l].concat(e),n);return}else if(e.length>1){ae(t[s],e,[s].concat(n));return}r=t[s],n=[s].concat(n)}let i=e[0];typeof i=="function"&&(i=i(r,n),i===r)||s===void 0&&i==null||(i=fe(i),s===void 0||Pe(r)&&Pe(i)&&!Array.isArray(i)?rn(r,i):Ne(t,s,i))}function bs(...[t,e]){const n=fe(t||{}),s=Array.isArray(n),r=nn(n);function i(...o){qt(()=>{s&&o.length===1?ys(n,o[0]):ae(n,o)})}return[r,i]}var _s=O('<div class="kahoot-container justify-content-center my-auto row"><div class="col-lg-8 text-center d-flex flex-column align-items-center"><h1 class="kahoot-title display-2 fw-bold mb-4"><span class=text-brand>Koderush</span>!</h1><form class="kahoot-form d-flex flex-column flex-md-col w-100 gap-3"role=search><input class="form-control form-input mb-3 mb-md-0 me-md-2"type=text placeholder=Nickname required><input class="form-control form-input mb-3 mb-md-0 me-md-2"type=text placeholder="Match ID"required><button class=btn-join type=submit>Join'),ws=O('<div class="row px-5"><main class="col-md-12 py-3">');function vs(){const t=yt(),[e,n]=P(""),[s,r]=P(""),i=o=>{o.preventDefault(),t(`/match?name=${encodeURIComponent(e())}&code=${encodeURIComponent(s())}`)};return(()=>{var o=_s(),a=o.firstChild,c=a.firstChild,u=c.nextSibling,h=u.firstChild,l=h.nextSibling;return u.addEventListener("submit",i),h.$$input=f=>n(f.currentTarget.value),l.$$input=f=>r(f.currentTarget.value),q(()=>h.value=e()),q(()=>l.value=s()),o})()}function Ss(){return(()=>{var t=ws(),e=t.firstChild;return y(e,x(vs,{})),t})()}me(["input"]);const W=Object.create(null);W.open="0";W.close="1";W.ping="2";W.pong="3";W.message="4";W.upgrade="5";W.noop="6";const Ee=Object.create(null);Object.keys(W).forEach(t=>{Ee[W[t]]=t});const st={type:"error",data:"parser error"},on=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",an=typeof ArrayBuffer=="function",cn=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,bt=({type:t,data:e},n,s)=>on&&e instanceof Blob?n?s(e):Ot(e,s):an&&(e instanceof ArrayBuffer||cn(e))?n?s(e):Ot(new Blob([e]),s):s(W[t]+(e||"")),Ot=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Tt(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Je;function Es(t,e){if(on&&t.data instanceof Blob)return t.data.arrayBuffer().then(Tt).then(e);if(an&&(t.data instanceof ArrayBuffer||cn(t.data)))return e(Tt(t.data));bt(t,!1,n=>{Je||(Je=new TextEncoder),e(Je.encode(n))})}const Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Rt.length;t++)ce[Rt.charCodeAt(t)]=t;const As=t=>{let e=t.length*.75,n=t.length,s,r=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),h=new Uint8Array(u);for(s=0;s<n;s+=4)i=ce[t.charCodeAt(s)],o=ce[t.charCodeAt(s+1)],a=ce[t.charCodeAt(s+2)],c=ce[t.charCodeAt(s+3)],h[r++]=i<<2|o>>4,h[r++]=(o&15)<<4|a>>2,h[r++]=(a&3)<<6|c&63;return u},Cs=typeof ArrayBuffer=="function",_t=(t,e)=>{if(typeof t!="string")return{type:"message",data:ln(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:xs(t.substring(1),e)}:Ee[n]?t.length>1?{type:Ee[n],data:t.substring(1)}:{type:Ee[n]}:st},xs=(t,e)=>{if(Cs){const n=As(t);return ln(n,e)}else return{base64:!0,data:t}},ln=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},un="",$s=(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach((i,o)=>{bt(i,!1,a=>{s[o]=a,++r===n&&e(s.join(un))})})},ks=(t,e)=>{const n=t.split(un),s=[];for(let r=0;r<n.length;r++){const i=_t(n[r],e);if(s.push(i),i.type==="error")break}return s};function Os(){return new TransformStream({transform(t,e){Es(t,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let ze;function we(t){return t.reduce((e,n)=>e+n.length,0)}function ve(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)n[r]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function Ts(t,e){ze||(ze=new TextDecoder);const n=[];let s=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(s===0){if(we(n)<1)break;const c=ve(n,1);i=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(we(n)<2)break;const c=ve(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(we(n)<8)break;const c=ve(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(st);break}r=h*Math.pow(2,32)+u.getUint32(4),s=3}else{if(we(n)<r)break;const c=ve(n,r);a.enqueue(_t(i?c:ze.decode(c),e)),s=0}if(r===0||r>t){a.enqueue(st);break}}}})}const hn=4;function R(t){if(t)return Rs(t)}function Rs(t){for(var e in R.prototype)t[e]=R.prototype[e];return t}R.prototype.on=R.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};R.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===e||s.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};R.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,e)}return this};R.prototype.emitReserved=R.prototype.emit;R.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};R.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ie=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),D=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ps="arraybuffer";function fn(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const Ls=D.setTimeout,Ns=D.clearTimeout;function De(t,e){e.useNativeTimers?(t.setTimeoutFn=Ls.bind(D),t.clearTimeoutFn=Ns.bind(D)):(t.setTimeoutFn=D.setTimeout.bind(D),t.clearTimeoutFn=D.clearTimeout.bind(D))}const Bs=1.33;function qs(t){return typeof t=="string"?Is(t):Math.ceil((t.byteLength||t.size)*Bs)}function Is(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function dn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ds(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Us(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class Fs extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class wt extends R{constructor(e){super(),this.writable=!1,De(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new Fs(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=_t(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ds(e);return n.length?"?"+n:""}}class Ms extends wt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ks(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,$s(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=dn()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let pn=!1;try{pn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const js=pn;function Vs(){}class Ks extends Ms{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class V extends R{constructor(e,n,s){super(),this.createRequest=e,De(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=fn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=V.requestsCount++,V.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Vs,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete V.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}V.requestsCount=0;V.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Pt);else if(typeof addEventListener=="function"){const t="onpagehide"in D?"pagehide":"unload";addEventListener(t,Pt,!1)}}function Pt(){for(let t in V.requests)V.requests.hasOwnProperty(t)&&V.requests[t].abort()}const Ws=function(){const t=gn({xdomain:!1});return t&&t.responseType!==null}();class Hs extends Ks{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Ws&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new V(gn,this.uri(),e)}}function gn(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||js))return new XMLHttpRequest}catch{}if(!e)try{return new D[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const mn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ys extends wt{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=mn?{}:fn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;bt(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&Ie(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=dn()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Xe=D.WebSocket||D.MozWebSocket;class Js extends Ys{createSocket(e,n,s){return mn?new Xe(e,n,s):n?new Xe(e,n):new Xe(e)}doWrite(e,n){this.ws.send(n)}}class zs extends wt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Ts(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),r=Os();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;this._writer.write(s).then(()=>{r&&Ie(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Xs={websocket:Js,webtransport:zs,polling:Hs},Qs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rt(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=Qs.exec(t||""),i={},o=14;for(;o--;)i[Gs[o]]=r[o]||"";return n!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Zs(i,i.path),i.queryKey=er(i,i.query),i}function Zs(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function er(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}const it=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ae=[];it&&addEventListener("offline",()=>{Ae.forEach(t=>t())},!1);class J extends R{constructor(e,n){if(super(),this.binaryType=Ps,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=rt(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=rt(n.host).host);De(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Us(this.opts.query)),it&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ae.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=hn,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&J.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",J.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=qs(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ie(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(J.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),it&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Ae.indexOf(this._offlineEventListener);s!==-1&&Ae.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}J.protocol=hn;class tr extends J{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;J.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",l=>{if(!s)if(l.type==="pong"&&l.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;J.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){s||(s=!0,h(),n.close(),n=null)}const o=l=>{const f=new Error("probe error: "+l);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function c(){o("socket closed")}function u(l){n&&l.name!==n.name&&i()}const h=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let nr=class extends tr{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>Xs[r]).filter(r=>!!r)),super(e,s)}};function sr(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=rt(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const rr=typeof ArrayBuffer=="function",ir=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,yn=Object.prototype.toString,or=typeof Blob=="function"||typeof Blob<"u"&&yn.call(Blob)==="[object BlobConstructor]",ar=typeof File=="function"||typeof File<"u"&&yn.call(File)==="[object FileConstructor]";function vt(t){return rr&&(t instanceof ArrayBuffer||ir(t))||or&&t instanceof Blob||ar&&t instanceof File}function Ce(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Ce(t[n]))return!0;return!1}if(vt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ce(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ce(t[n]))return!0;return!1}function cr(t){const e=[],n=t.data,s=t;return s.data=ot(n,e),s.attachments=e.length,{packet:s,buffers:e}}function ot(t,e){if(!t)return t;if(vt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=ot(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=ot(t[s],e));return n}return t}function lr(t,e){return t.data=at(t.data,e),delete t.attachments,t}function at(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=at(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=at(t[n],e));return t}const ur=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hr=5;var w;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(w||(w={}));class fr{constructor(e){this.replacer=e}encode(e){return(e.type===w.EVENT||e.type===w.ACK)&&Ce(e)?this.encodeAsBinary({type:e.type===w.EVENT?w.BINARY_EVENT:w.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===w.BINARY_EVENT||e.type===w.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=cr(e),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function Lt(t){return Object.prototype.toString.call(t)==="[object Object]"}class St extends R{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===w.BINARY_EVENT;s||n.type===w.BINARY_ACK?(n.type=s?w.EVENT:w.ACK,this.reconstructor=new dr(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(vt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(w[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===w.BINARY_EVENT||s.type===w.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(i,n)}else s.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}s.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(St.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case w.CONNECT:return Lt(n);case w.DISCONNECT:return n===void 0;case w.CONNECT_ERROR:return typeof n=="string"||Lt(n);case w.EVENT:case w.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ur.indexOf(n[0])===-1);case w.ACK:case w.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dr{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=lr(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pr=Object.freeze(Object.defineProperty({__proto__:null,Decoder:St,Encoder:fr,get PacketType(){return w},protocol:hr},Symbol.toStringTag,{value:"Module"}));function j(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const gr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bn extends R{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[j(e,"open",this.onopen.bind(this)),j(e,"packet",this.onpacket.bind(this)),j(e,"error",this.onerror.bind(this)),j(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,r,i;if(gr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:w.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,l=n.pop();this._registerAckCallback(h,l),o.id=h}const a=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((s,r)=>{const i=(o,a)=>o?r(o):s(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:w.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case w.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case w.EVENT:case w.BINARY_EVENT:this.onevent(e);break;case w.ACK:case w.BINARY_ACK:this.onack(e);break;case w.DISCONNECT:this.ondisconnect();break;case w.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:w.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:w.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function re(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}re.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};re.prototype.reset=function(){this.attempts=0};re.prototype.setMin=function(t){this.ms=t};re.prototype.setMax=function(t){this.max=t};re.prototype.setJitter=function(t){this.jitter=t};class ct extends R{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,De(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new re({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||pr;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new nr(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=j(n,"open",function(){s.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=j(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(j(e,"ping",this.onping.bind(this)),j(e,"data",this.ondata.bind(this)),j(e,"error",this.onerror.bind(this)),j(e,"close",this.onclose.bind(this)),j(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ie(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new bn(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const oe={};function xe(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=sr(t,e.path||"/socket.io"),s=n.source,r=n.id,i=n.path,o=oe[r]&&i in oe[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new ct(s,e):(oe[r]||(oe[r]=new ct(s,e)),c=oe[r]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(xe,{Manager:ct,Socket:bn,io:xe,connect:xe});var mr=O('<div class="alert alert-secondary">No disponible'),yr=O('<div class=mb-3><button class="btn-tutorial mb-2"></button><div><div class="card card-body"><pre class=mb-0>'),br=O("<div><h4></h4><p><strong>Lmite de tiempo:</strong> <!>s<br><strong>Lmite de memoria:</strong> <!>MB</p><h5>Enunciado</h5><p></p><h5>Entrada</h5><p></p><h5>Salida</h5><p></p><h5>Ejemplos</h5><ul class=list-group>"),_r=O("<li class=list-group-item><strong>Entrada:</strong><pre></pre><strong>Salida:</strong><pre>"),wr=O("<strong>Explicacin:"),vr=O("<p>");function Sr({problem:t}){const[e,n]=P(!1);return console.log(t()),t()?(()=>{var s=br(),r=s.firstChild,i=r.nextSibling,o=i.firstChild,a=o.nextSibling,c=a.nextSibling,u=c.nextSibling,h=u.nextSibling,l=h.nextSibling,f=l.nextSibling,d=f.nextSibling;d.nextSibling;var m=i.nextSibling,p=m.nextSibling,g=p.nextSibling,b=g.nextSibling,_=b.nextSibling,E=_.nextSibling,A=E.nextSibling,T=A.nextSibling;return y(r,()=>t().title),y(i,()=>t().time_limit,c),y(i,()=>t().memory_limit,d),y(s,x(ge,{get when(){return t().tutorial},get children(){var k=yr(),F=k.firstChild,M=F.nextSibling,G=M.firstChild,Z=G.firstChild;return F.$$click=()=>n(!e()),y(F,()=>e()?"Ocultar tutorial":"Mostrar tutorial"),y(Z,()=>t().tutorial),q(()=>ye(M,`collapse ${e()?"show":""}`)),k}}),m),y(p,()=>t().statement),y(b,()=>t().input_description),y(E,()=>t().output_description),y(T,()=>t().examples.map((k,F)=>(()=>{var M=_r(),G=M.firstChild,Z=G.nextSibling,Ue=Z.nextSibling,Fe=Ue.nextSibling;return y(Z,()=>k.input),y(Fe,()=>k.output),y(M,(()=>{var Me=gt(()=>!!k.explanation);return()=>Me()&&[wr(),(()=>{var S=vr();return y(S,()=>k.explanation),S})()]})(),null),M})())),s})():mr()}me(["click"]);var Er=O('<div><label for=languageSelect class=form-label>Lenguaje:</label><select id=languageSelect class="form-select mb-2"><option value=cpp>C++</option><option value=python>Python</option><option value=javascript>JavaScript</option></select><label for=codeEditor class=form-label>Cdigo:</label><textarea id=codeEditor class=form-control rows=10 placeholder="Escribe o pega tu cdigo aqu..."></textarea><button class="btn-normal mt-2">Enviar');function Ar({submitCode:t,problemId:e}){const[n,s]=P(""),[r,i]=P("cpp"),o=()=>{n().trim()!==""&&t(e(),r(),n())};return(()=>{var a=Er(),c=a.firstChild,u=c.nextSibling,h=u.nextSibling,l=h.nextSibling,f=l.nextSibling;return u.$$input=d=>i(d.target.value),l.$$input=d=>s(d.target.value),f.$$click=o,q(()=>u.value=r()),q(()=>l.value=n()),a})()}me(["input","click"]);var Cr=O('<div class=row><div class=col-2><div class="nav flex-column mynav-pills"></div></div><div class=col-10><div class=row><div class=col-md-6></div><div class=col-md-6>'),xr=O("<button>");function $r({match:t,submitCode:e}){const n=Object.keys(t.problems),[s,r]=P(n[0]),i=a=>String.fromCharCode(65+a),o=()=>t.problems[s()];return(()=>{var a=Cr(),c=a.firstChild,u=c.firstChild,h=c.nextSibling,l=h.firstChild,f=l.firstChild,d=f.nextSibling;return y(u,x(pt,{each:n,children:(m,p)=>{const g=t.problems[m];return(()=>{var b=xr();return b.$$click=_=>{r(m),console.log(m)},b.disabled=!g,y(b,()=>i(p())),q(()=>ye(b,`mynav-link ${s()===m?"active":""}`)),b})()}})),y(f,x(Sr,{problem:o})),y(d,x(Ar,{submitCode:e,problemId:s})),a})()}me(["click"]);var kr=O('<div class=table-responsive><table class="table custom-scoreboard text-center align-middle"><thead class=table-light><tr><th>#</th><th>Jugador</th><th>Resueltos</th></tr></thead><tbody>'),Or=O("<th>"),Tr=O("<tr><td></td><td class=text-start></td><td>"),Rr=O("<td>"),Pr=O("<td> ");function Lr({match:t}){const e=Object.keys(t.problems),s=(()=>{const r=new Map;for(const i of t.players){r.set(i,{solved:0,lastAcceptedTime:0,problems:{}});for(const o of e)r.get(i).problems[o]={solved:!1,tried:!1,failedAttempts:0}}for(const i of t.players){const o=t.submissions.filter(a=>a.player===i&&a.veredict!=="waiting").sort((a,c)=>a.timestamp-c.timestamp);for(const a of e){const c=o.filter(l=>l.problem_id===a);c.length>0&&(r.get(i).problems[a].tried=!0);let u=0,h=!1;for(const l of c)l.veredict==="accepted"?h=!0:["internal error","compilation error"].includes(l.veredict)||u++;r.get(i).problems[a].solved=h,r.get(i).problems[a].failedAttempts=u,h&&r.get(i).solved++}}return Array.from(r).sort(([i,o],[a,c])=>c.solved!==o.solved?c.solved-o.solved:i.localeCompare(a))})();return console.log(s),(()=>{var r=kr(),i=r.firstChild,o=i.firstChild,a=o.firstChild,c=a.firstChild,u=c.nextSibling;u.nextSibling;var h=o.nextSibling;return y(a,()=>e.map((l,f)=>(()=>{var d=Or();return y(d,()=>`${String.fromCharCode(65+f)}`),d})()),null),y(h,x(pt,{each:s,children:([l,f],d)=>(()=>{var m=Tr(),p=m.firstChild,g=p.nextSibling,b=g.nextSibling;return y(p,()=>d()+1),y(g,l),y(b,()=>f.solved),y(m,()=>e.map(_=>{const{solved:E,tried:A,failedAttempts:T}=f.problems[_];return A?(()=>{var k=Pr(),F=k.firstChild;return ye(k,E?"table-success":"table-danger"),y(k,E?"":"",F),y(k,T>0?`(${T})`:"",null),k})():Rr()}),null),m})()})),r})()}var Nr=O('<div><div><div class><p class=font-bold> </p></div></div><div class> <p></p></div><div class="absolute bottom-0 left-0 right-0 h-1 bg-black bg-opacity-20"><div class="h-full bg-white bg-opacity-50 animate-toast-progress">');function Br(t){const n={success:{bg:"bg-success",icon:"",title:"xito!",animation:"animate-bounce"},danger:{bg:"bg-danger",icon:"",title:"Respuesta Incorrecta",animation:"animate-shake"},warning:{bg:"bg-yellow-500",icon:"",title:"Advertencia",animation:""},info:{bg:"bg-blue-500",icon:"",title:"Informacin",animation:""}}[t.type];return(()=>{var s=Nr(),r=s.firstChild,i=r.firstChild,o=i.firstChild,a=o.firstChild,c=r.nextSibling,u=c.firstChild,h=u.nextSibling,l=c.nextSibling,f=l.firstChild;return y(o,()=>n.icon,a),y(o,()=>n.title,null),y(h,()=>t.message),f.style.setProperty("animation-duration","5s"),q(()=>ye(s,`flex p-3 toast-notif text-white ${n.bg} ${n.animation}`)),s})()}var qr=O('<div><div class=table-responsive><table class="table custom-submissions align-middle"><thead class=table-light><tr><th>#</th><th>Problema</th><th>Hora</th><th>Veredicto</th></tr></thead><tbody>'),Ir=O("<tr><td></td><td></td><td></td><td><span>");function Dr({match:t}){const[e,n]=P(!1),[s,r]=P({message:"none",type:"info"}),[i,o]=P({id:-1,veredict:"none"});var a=!0;const c=()=>[...t.submissions].filter(f=>f.player===t.player).sort((f,d)=>d.timestamp-f.timestamp);lt(()=>{const f=c();if(f.length>0){const d=f[0],m=i();console.log(d.veredict),(d.timestamp!==m.id||d.veredict!==m.veredict)&&(console.log("diff: ",d.veredict," ",m.veredict),!a&&d.veredict!=="waiting"&&(h(d.veredict),o({id:d.timestamp,veredict:d.veredict})),a=!1)}});const u=f=>new Date(f*1e3).toLocaleTimeString(),h=f=>{const m={accepted:{message:"Solucin aceptada! Buen trabajo!",type:"success"},"wrong answer":{message:"No te rindas. Sigue intentando!",type:"danger"}}[f]||{message:"Envo procesado",type:"info"};r(m),n(!0),setTimeout(()=>n(!1),5e3)},l=Object.keys(t.problems);return(()=>{var f=qr(),d=f.firstChild,m=d.firstChild,p=m.firstChild,g=p.nextSibling;return y(f,x(ge,{get when(){return e()},get children(){return x(Br,{get message(){return s().message},get type(){return s().type},onClose:()=>n(!1)})}}),d),y(g,x(pt,{get each(){return c()},children:(b,_)=>(()=>{var E=Ir(),A=E.firstChild,T=A.nextSibling,k=T.nextSibling,F=k.nextSibling,M=F.firstChild;return y(A,()=>_()+1),y(T,()=>String.fromCharCode(65+l.indexOf(b.problem_id))),y(k,()=>u(b.timestamp)),y(M,()=>b.veredict),q(()=>ye(M,`badge text-bg-${Ur(b.veredict)}`)),E})()})),f})()}function Ur(t){switch(t){case"accepted":return"success";case"wrong answer":return"danger";case"compilation error":return"warning";case"runtime error":return"warning";case"time limit exceeded":return"warning";case"memory limit exceeded":return"warning";case"waiting":return"info";default:return"info"}}var Fr=O('<div class="game-container container my-4"><div class="row gy-4"><div class=col-12><div class="card h-100"><div class=card-body><h3 class=card-title>Problemas</h3></div></div></div><div class="col-12 col-md-6"><div class="card h-100"><div class=card-body><h3 class="card-title text-center">Tabla de posiciones</h3></div></div></div><div class="col-12 col-md-6"><div class="card h-100"><div class=card-body><h3 class="card-title text-center">Envos');function Mr({match:t,submitCode:e}){return(()=>{var n=Fr(),s=n.firstChild,r=s.firstChild,i=r.firstChild,o=i.firstChild;o.firstChild;var a=r.nextSibling,c=a.firstChild,u=c.firstChild;u.firstChild;var h=a.nextSibling,l=h.firstChild,f=l.firstChild;return f.firstChild,y(o,x($r,{match:t,submitCode:e}),null),y(u,x(Lr,{match:t}),null),y(f,x(Dr,{match:t}),null),n})()}var jr=O('<div class=kahoot-container><h4 class="kahoot-title mb-4">Participantes</h4><div class="d-flex flex-wrap justify-content-center gap-3"></div><p class="mt-4 text-warning fw-semibold">La partida comenzar en breve!'),Vr=O('<div class="waiting-page container py-5"><div class="row justify-content-center"><div class="col-lg-8 text-center"><h1 class="waiting-title display-4 fw-bold mb-4">Esperando a que comience la partida!</h1><div class=mb-4><div class="spinner-border text-light custom-spinner"role=status><span class=visually-hidden>Cargando...</span></div></div><div class=mt-4><p class="text-light medium">Invita a ms jugadores compartiendo el cdigo de la sala.<br>El juego comenzar automticamente cuando el anfitrin lo inicie.'),Kr=O("<div class=text-light>Cargando jugadores..."),Wr=O('<div class="player-bubble player-color-4"><i class="bi bi-person-fill me-2">');function Hr({match:t}){return(()=>{var e=Vr(),n=e.firstChild,s=n.firstChild,r=s.firstChild,i=r.nextSibling,o=i.nextSibling;return y(s,x(ge,{when:t,get fallback(){return Kr()},get children(){var a=jr(),c=a.firstChild,u=c.nextSibling;return y(u,()=>t?.players.map((h,l)=>(()=>{var f=Wr();return f.firstChild,y(f,h,null),f})())),a}}),o),e})()}let I;function Yr(){const t=yt(),[e]=Qn(),n=e.name,s=e.code,[r,i]=P(Math.floor(Date.now()/1e3));let o=null;const[a,c]=bs({match_id:s,player:n,start_timestamp:null,players:[],submissions:[],problems:{},seconds_per_problem:null,seconds_per_tutorial:null});En(()=>{I=xe("http://127.0.0.1:5000"),console.log("Socket connected"),o=setInterval(()=>{console.log("time left",a.start_timestamp,r()),i(Math.floor(Date.now()/1e3))},1e3),I.emit("join_match",{match_id:a.match_id,player:a.player}),I.on("rejected",()=>{console.log("Rejected from match"),t("/")}),I.on("start_timestamp",l=>{c("start_timestamp",()=>l),console.log("Start timestamp",l)}),I.on("new_player",l=>{c("players",f=>[...f,l]),console.log("New player")}),I.on("state_update",l=>{c(()=>l),console.log("Update state")}),I.on("new_submission",l=>{l.player==a.player?c("submissions",l.index,()=>l):c("submissions",f=>[...f,l]),console.log("New submission")}),I.on("new_problem",l=>{c("problems",l.problem_id,()=>l),console.log("New problem")}),I.on("new_tutorial",l=>{c("problems",l.problem_id,"tutorial",()=>l.tutorial),console.log("New tutorial")}),I.on("match_ended",()=>{console.log("Match ended")})}),lt(()=>{a.start_timestamp&&r()>=a.start_timestamp&&o&&(clearInterval(o),o=null,console.log("Clock interval stopped"))}),qe(()=>{o&&clearInterval(o),I.disconnect(),console.log("Socket disconnected")});const u=(l,f,d)=>{const m=a.submissions.length,p={player:a.player,problem_id:l,timestamp:Math.floor(Date.now()/1e3),veredict:"waiting",index:m};c("submissions",g=>[...g,p]),I.emit("upload_solution",{problem_id:l,language:f,solution:d,index:m})};return gt(()=>!a.start_timestamp||r()<a.start_timestamp?x(Hr,{match:a}):x(Mr,{match:a,submitCode:u}))}function Jr(){return x(ds,{get children(){return[x(kt,{path:"/",component:Ss}),x(kt,{path:"/match",component:Yr})]}})}In(()=>x(Jr,{}),document.getElementById("root"));
